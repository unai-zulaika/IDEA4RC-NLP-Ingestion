llama_context: n_ctx_per_seq (8192) < n_ctx_train (131072) -- the full capacity of the model will not be utilized
================================================================================
LLM Evaluation Pipeline for INT Prompts
================================================================================
Mode: Few-shot (k=5)
================================================================================

[STEP 1] Loading data...
  Loading notes from: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/first_patient_notes.csv
  Loaded 18 notes
  Loading expected annotations from: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/first_patient_notes_annotation_mapping.csv
  Loaded 486 note-prompt mappings
  [Time: 0.01s]

[STEP 2] Adapting prompts...
[INFO] Adapting INT prompts for model_runner...
[INFO] Loaded 27 adapted prompts into model_runner
  [Time: 0.00s]

[STEP 3] Setting up FAISS indexes for few-shot examples...
[INFO] SentenceTransformer using device: cuda
  Building FAISS indexes from patients 2-3...
[INFO] Extracted 2 patients for fewshot building
[INFO] Index for 'biopsygrading-int' already exists, skipping
[INFO] Built FAISS index for 'surgerymargins-int': 27 examples
[INFO] Built FAISS index for 'tumordepth-int': 29 examples
[INFO] Built FAISS index for 'biopsymitoticcount-int': 11 examples
[INFO] Built FAISS index for 'gender-int': 41 examples
[WARN] Only 0 examples found for 'reexcision-int', minimum 1 required. Skipping.
[INFO] Built FAISS index for 'necrosis_in_biopsy-int': 2 examples
[INFO] Built FAISS index for 'previous_cancer_treatment-int': 5 examples
[INFO] Built FAISS index for 'chemotherapy_start-int': 11 examples
[INFO] Built FAISS index for 'surgerytype-fs30-int': 10 examples
[INFO] Built FAISS index for 'radiotherapy_start-int': 2 examples
[INFO] Built FAISS index for 'recurrencetype-int': 15 examples
[INFO] Built FAISS index for 'radiotherapy_end-int': 12 examples
[INFO] Built FAISS index for 'tumorbiopsytype-int': 21 examples
[INFO] Built FAISS index for 'necrosis_in_surgical-int': 1 examples
[INFO] Built FAISS index for 'tumordiameter-int': 40 examples
[INFO] Built FAISS index for 'patient-status-int': 28 examples
[INFO] Built FAISS index for 'response-to-int': 7 examples
[INFO] Built FAISS index for 'stage_at_diagnosis-int': 36 examples
[INFO] Built FAISS index for 'chemotherapy_end-int': 11 examples
[INFO] Built FAISS index for 'occurrence_cancer-int': 7 examples
[INFO] Built FAISS index for 'surgical-specimen-grading-int': 26 examples
[INFO] Built FAISS index for 'ageatdiagnosis-int': 41 examples
[INFO] Built FAISS index for 'recur_or_prog-int': 19 examples
[INFO] Built FAISS index for 'histological-tipo-int': 39 examples
[INFO] Built FAISS index for 'surgical-mitotic-count-int': 2 examples
[INFO] Built FAISS index for 'tumorsite-int': 41 examples

[INFO] Completed: 25 built, 2 skipped/total
  [Time: 6.71s]

[STEP 4] Initializing LLM model...
  Model path: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/meta-llama-3.1-8b-instruct-q4_k_m.gguf
  [INFO] Setting LLAMA_N_GPU_LAYERS=-1 for maximum GPU usage
  [INFO] Using optimized settings: n_ctx=8192, n_batch=1024, flash_attn=True
  [INFO] Note: Processing is sequential (one prompt at a time), not batched
[llama.cpp] init n_gpu_layers=-1, n_threads=71
[llama.cpp] model ready
  Model initialized successfully
  [INFO] pynvml not available for detailed GPU monitoring
  [Time: 3.46s]

[STEP 5] Running LLM inference and evaluation...
  This may take a while...

  Processing note: P001_2018-03-15_consultation_1 (consultation)
    [1/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3699 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "15 marzo 2018
    
    Motivo della visita:
    Visita presso il centro sarcomi per massa inguinale della coscia sinistra.
    
    Anamnesi e quadro clinico:
    Paziente femmina 34 anni, riferisce da circa 6 mesi comparsa di una tumefazione in accrescimento dell
        ... [truncated 2899 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 11.03s)
  Expected:  Biopsy grading (FNCLCC): 2
  Predicted: Biopsy grading (FNCLCC): 2.
    [2/486] surgerymargins-int ... 
    Prompt (14738 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45
        ... [truncated 13938 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.62s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Margins after surgery: R0
    [3/486] tumordepth-int ... 
    Prompt (15077 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45 mm. Superfici di resezione inchiostrate; non sono stati inviati linfonodi separati.
    
    Esam
        ... [truncated 14277 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.78, 43.13s)
  Expected:  Tumor depth: deep (intramuscular)
  Predicted: Tumor depth: deep.
    [4/486] biopsymitoticcount-int ... 
    Prompt (14335 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopi
        ... [truncated 13535 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 40.33s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [5/486] gender-int ... 
    Prompt (15208 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di te
        ... [truncated 14408 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 43.66s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [6/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3863 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "15 marzo 2018
    
    Motivo della visita:
    Visita presso il centro sarcomi per mass
        ... [truncated 3063 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.51s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [7/486] necrosis_in_biopsy-int ... 
    Prompt (8224 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 7424 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 21.94s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type): not mentioned / not appreciable.
    [8/486] previous_cancer_treatment-int ... 
    Prompt (15903 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 15103 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.17s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: No previous cancer treatments.
    [9/486] chemotherapy_start-int ... 
    Prompt (18191 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 17391 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 71.26s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative chemotherapy with adjuvant intent started on [provide date] and utilized [select regimen] regimen.
    [10/486] surgerytype-fs30-int ... 
    Prompt (18937 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 18137 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 54.61s)
  Expected:  Surgery was not performed
  Predicted: Surgery was performed on 15/03/2018 and was macroscopically complete.
    [11/486] radiotherapy_start-int ... 
    Prompt (8620 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7820 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 33.32s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [12/486] recurrencetype-int ... 
    Prompt (17777 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 16977 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.55s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [13/486] radiotherapy_end-int ... 
    Prompt (16925 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 16125 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 57.31s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [14/486] tumorbiopsytype-int ... 
    Prompt (15484 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametr
        ... [truncated 14684 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.31s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 04/06/2019 in unknown
    [15/486] necrosis_in_surgical-int ... 
    Prompt (5612 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4812 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [16/486] tumordiameter-int ... 
    Prompt (15322 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45 mm. Superfici 
        ... [truncated 14522 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.65, 45.01s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 2018-03-15)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on [put date]).
    [17/486] patient-status-int ... 
    Prompt (18572 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 17772 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 53.63s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    [18/486] response-to-int ... 
    Prompt (18439 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 17639 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 52.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [19/486] stage_at_diagnosis-int ... 
    Prompt (15339 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
        ... [truncated 14539 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.44, 41.78s)
  Expected:  Stage at diagnosis (AJCC/UICC or local staging): localized
  Predicted: Stage at diagnosis (clinical): localized
    [20/486] chemotherapy_end-int ... 
    Prompt (16030 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferior
        ... [truncated 15230 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 54.97s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason].
    [21/486] occurrence_cancer-int ... 
    Prompt (19294 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 18494 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 55.26s)
  Expected:  No previous or concurrent cancers
  Predicted: Occurrence of other cancer : myoma uteri 2010.
    [22/486] surgical-specimen-grading-int ... 
    Prompt (17106 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 16306 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.46s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [23/486] ageatdiagnosis-int ... 
    Prompt (15180 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben de
        ... [truncated 14380 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 42.69s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis: 34 years
    [24/486] recur_or_prog-int ... 
    Prompt (14374 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13574 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.13s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 15 marzo 2018
    [25/486] histological-tipo-int ... 
    Prompt (15349 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione soli
        ... [truncated 14549 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 43.97s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
    [26/486] surgical-mitotic-count-int ... 
    Prompt (7587 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 6787 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.45s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [27/486] tumorsite-int ... 
    Prompt (17602 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 16802 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 49.96s)
  Expected:  Tumor site (Upper and Lower limbs): left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Anterior thigh.
  Note P001_2018-03-15_consultation_1 completed in 1142.98s (avg 42.333s per prompt)

  Processing note: P001_2018-03-22_radiology_2 (radiology)
    [28/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2363 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Esame: RMN coscia sinistra
    Data: 22/03/2018
    
    Motivo dell’esame: massa in accrescimento nell’emitorace anteriore della coscia sinistra, riferita da circa 6 mesi.
    
    Tecnica: RMN della coscia sinistra eseguita il 22/03/2018 con sequenze pondera
        ... [truncated 1563 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.68, 5.92s)
  Expected:  Biopsy grading (FNCLCC): Grade 2
  Predicted: Biopsy grading (FNCLCC): Unknown biopsy grading.
    [29/486] surgerymargins-int ... 
    Prompt (12610 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45
        ... [truncated 11810 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 34.19s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Margins after surgery: R0
    [30/486] tumordepth-int ... 
    Prompt (12340 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10/05/2019) per tumefazione in aumento da circa 3 mesi.
    
    Tecnica: esame ecografico mirato della regione volare dell'avambraccio sinistro.
    
    Risultati: a livello volare, prossimale al polso, si documenta una f
        ... [truncated 11540 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.78, 32.76s)
  Expected:  Tumor depth: deep (intramuscular)
  Predicted: Tumor depth: Deep.
    [31/486] biopsymitoticcount-int ... 
    Prompt (12949 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopi
        ... [truncated 12149 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 34.31s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: unknown
    [32/486] gender-int ... 
    Prompt (12510 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10/05/2019) per tumefazione in aumento 
        ... [truncated 11710 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 32.66s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [33/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2527 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Esame: RMN coscia sinistra
    Data: 22/03/2018
    
    Motivo dell’esame: massa in acc
        ... [truncated 1727 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.92s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [34/486] necrosis_in_biopsy-int ... 
    Prompt (6888 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6088 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.76s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [35/486] previous_cancer_treatment-int ... 
    Prompt (14567 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13767 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.15s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: No previous cancer treatments.
    [36/486] chemotherapy_start-int ... 
    Prompt (17002 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10/12/2022 — Visita oncologica di controllo intermedia durante chemioterapia sistemica.
    
    Motivo della visita: rivalutazio
        ... [truncated 16202 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.77s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [37/486] surgerytype-fs30-int ... 
    Prompt (14789 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 13989 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 42.64s)
  Expected:  Surgery was not performed
  Predicted: Surgery was performed on 22/03/2018 and was macroscopically complete.
    [38/486] radiotherapy_start-int ... 
    Prompt (7284 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6484 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 23.52s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: [NO PREDICTION]
    [39/486] recurrencetype-int ... 
    Prompt (14305 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 13505 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.49s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: local - thigh (coscia sinistra).
    [40/486] radiotherapy_end-int ... 
    Prompt (14540 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di sorveglianza eseguita in
        ... [truncated 13740 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.56s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [41/486] tumorbiopsytype-int ... 
    Prompt (12855 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametr
        ... [truncated 12055 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.39s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor biopsy has been performed on unknown in unknown.
    [42/486] necrosis_in_surgical-int ... 
    Prompt (4276 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3476 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.54s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [43/486] tumordiameter-int ... 
    Prompt (12620 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10/05/2019) per tumefazione in aumento da circa 3 mesi.
    
    Tecnica: esame ecografico mirato della regione volare dell'avambraccio sini
        ... [truncated 11820 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.67s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [44/486] patient-status-int ... 
    Prompt (15250 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14450 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.81s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (unknown)
    [45/486] response-to-int ... 
    Prompt (17103 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16303 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.27s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [46/486] stage_at_diagnosis-int ... 
    Prompt (12639 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10
        ... [truncated 11839 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.51, 33.88s)
  Expected:  Unknown clinical stage at diagnosis
  Predicted: Stage at diagnosis: localized.
    [47/486] chemotherapy_end-int ... 
    Prompt (15044 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/03/2023
    
    Visita oncologica di controllo dopo completamento terapia citotossica. Paziente femmina, diagnosti
        ... [truncated 14244 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 57.39s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: - Annotation: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [48/486] occurrence_cancer-int ... 
    Prompt (16701 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 15901 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.70s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : No information about occurrence of other cancers.
    [49/486] surgical-specimen-grading-int ... 
    Prompt (12574 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 11774 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.35s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen grading (FNCLCC): Other classification system high
    [50/486] ageatdiagnosis-int ... 
    Prompt (12478 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10/05/2019) per tumefazione in aumento da circa 3 mesi.
    
    Tecnica: esame ecografic
        ... [truncated 11678 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 31.57s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis 22 years.
    [51/486] recur_or_prog-int ... 
    Prompt (14031 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13231 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.18s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 2018-03-22
    [52/486] histological-tipo-int ... 
    Prompt (12672 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: Ecografia mirata dell'avambraccio sinistro
    Data esecuzione: 12/05/2019
    
    Motivo: massa volare avambraccio sinistro vicina al polso, in follow-up dopo prima valutazione presso centro sarcomi (visita del 10/05/2019) per tumefazione in aumento da circa 3 mesi.
    
    Tecnica: esame
        ... [truncated 11872 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 35.35s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Liposarcoma, myxoid (ICD-O-3: 8850/3).
    [53/486] surgical-mitotic-count-int ... 
    Prompt (6251 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5451 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.25s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count.
    [54/486] tumorsite-int ... 
    Prompt (14939 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 14139 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 41.36s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Anterior thigh.
  Note P001_2018-03-22_radiology_2 completed in 930.34s (avg 34.457s per prompt)

  Processing note: P001_2018-03-30_pathology_3 (pathology)
    [55/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2051 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto anatomopatologico
    Data prelievo: 30/03/2018
    
    Paziente: donna, 34 anni. Sede clinica: coscia sinistra, compartimento anteriore; massa nota da circa 6 mesi, dimensioni riportate alla RMN del 22/03/2018 circa 110 mm.
    
    Materiale inviato
        ... [truncated 1251 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.78, 5.37s)
  Expected:  Biopsy grading (FNCLCC): Grade 2
  Predicted: Biopsy grading (FNCLCC): 2.
    [56/486] surgerymargins-int ... 
    Prompt (12755 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45
        ... [truncated 11955 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.57s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Margins after surgery: R0
    [57/486] tumordepth-int ... 
    Prompt (12108 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45 mm. Superfici di resezione inchiostrate; non sono stati inviati linfonodi separati.
    
    Esam
        ... [truncated 11308 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.78, 33.67s)
  Expected:  Tumor depth: deep (intramuscular)
  Predicted: Tumor depth: Deep
    [58/486] biopsymitoticcount-int ... 
    Prompt (11527 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopi
        ... [truncated 10727 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.60, 29.49s)
  Expected:  Unknown biopsy mitotic count
  Predicted: Biopsy mitotic count: 6 HPF
    [59/486] gender-int ... 
    Prompt (12209 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di te
        ... [truncated 11409 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 33.94s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [60/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2215 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto anatomopatologico
    Data prelievo: 30/03/2018
    
    Paziente: donna, 34 ann
        ... [truncated 1415 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.51s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [61/486] necrosis_in_biopsy-int ... 
    Prompt (6576 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 5776 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.55, 17.17s)
  Expected:  Necrosis in biopsy core specimen (type of): necrosi non significativa nel campione disponibile
  Predicted: Necrosis in biopsy specimen (type of): not significant / non significativa
    [62/486] previous_cancer_treatment-int ... 
    Prompt (14255 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13455 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.37s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: No previous cancer treatments.
    [63/486] chemotherapy_start-int ... 
    Prompt (15555 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 14755 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 55.99s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Based on the provided medical note, the annotation is:
    [64/486] surgerytype-fs30-int ... 
    Prompt (15899 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15099 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 43.22s)
  Expected:  Surgery was not performed
  Predicted: Surgery was performed on 10/07/2020 and was macroscopically complete.
    [65/486] radiotherapy_start-int ... 
    Prompt (6972 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6172 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 22.81s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [66/486] recurrencetype-int ... 
    Prompt (13358 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 12558 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 36.51s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [67/486] radiotherapy_end-int ... 
    Prompt (14423 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data cam
        ... [truncated 13623 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.00s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [68/486] tumorbiopsytype-int ... 
    Prompt (13836 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametr
        ... [truncated 13036 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.69, 40.31s)
  Expected:  Baseline/primary tumor core needle (ecoguidata) biopsy has been performed on 30/03/2018 in unknown place
  Predicted: Baseline/primary tumor core biopsy has been performed on 30/03/2018 in the hospital.
    [69/486] necrosis_in_surgical-int ... 
    Prompt (3964 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3164 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.23s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [70/486] tumordiameter-int ... 
    Prompt (12322 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45 mm. Superfici 
        ... [truncated 11522 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 34.73s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [71/486] patient-status-int ... 
    Prompt (14784 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 13984 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.23s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Unknown patient status at last follow-up
    [72/486] response-to-int ... 
    Prompt (16645 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 15845 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.33s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [73/486] stage_at_diagnosis-int ... 
    Prompt (12338 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
        ... [truncated 11538 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 31.60s)
  Expected:  Stage at diagnosis (AJCC/clinical): localized
  Predicted: Stage at diagnosis: localized
    [74/486] chemotherapy_end-int ... 
    Prompt (13943 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferior
        ... [truncated 13143 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.41s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: - Pre-operative chemotherapy: Not mentioned
    [75/486] occurrence_cancer-int ... 
    Prompt (17554 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 16754 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.70s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : liposarcoma mixoide.
    [76/486] surgical-specimen-grading-int ... 
    Prompt (14211 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 13411 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.80s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen grading (FNCLCC): Grade 2 (intermedio)
    [77/486] ageatdiagnosis-int ... 
    Prompt (12179 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben de
        ... [truncated 11379 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 33.43s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis: 34 years
    [78/486] recur_or_prog-int ... 
    Prompt (12116 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 11316 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 31.37s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 30/03/2018
    [79/486] histological-tipo-int ... 
    Prompt (12379 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione soli
        ... [truncated 11579 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.62, 34.98s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Liposarcoma, mixed type (ICD-O-3: 8852/3)
    [80/486] surgical-mitotic-count-int ... 
    Prompt (5939 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5139 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.40s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: 10/10 HPF.
    [81/486] tumorsite-int ... 
    Prompt (14616 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 13816 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 40.42s)
  Expected:  Tumor site (Upper and Lower limbs): left thigh, anterior compartment
  Predicted: Tumor site (Upper and Lower limbs): Anterior compartment of the left thigh.
  Note P001_2018-03-30_pathology_3 completed in 911.58s (avg 33.762s per prompt)

  Processing note: P001_2018-04-05_staging_4 (staging)
    [82/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3467 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "05/04/2018 — Nota di stadiazione
    
    Paziente: donna, 34 anni all'esordio. Episodio clinico: la paziente si era presentata in prima visita il 15/03/2018 riferendo da circa 6 mesi una massa dolente? (no) indolore in progressivo aumento di volum
        ... [truncated 2667 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.66, 9.07s)
  Expected:  Biopsy grading (FNCLCC): Grade 2 (provisional)
  Predicted: Biopsy grading (FNCLCC): 2.
    [83/486] surgerymargins-int ... 
    Prompt (13210 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 20/10/2020.
    
    Motivo della visita: controllo programmato a 12 mesi dopo la fine della radioterapia.
    
    Breve anamnesi: donna di 22 anni all’esordio, con sinovial sarcoma monophasico del compartimento volare dell’avambraccio sinistro (9040/3), dimensione massima 45 mm, FNCLCC grado 2. Intervento
        ... [truncated 12410 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.37s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Margins after surgery: R0 (complete resection); closest margin distance not specified
    [84/486] tumordepth-int ... 
    Prompt (16858 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 20/06/2019 senza evidenza di malattia metastatica. A distanza di circa 6 settimane dalla biopsia percutane
        ... [truncated 16058 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 47.49s)
  Expected:  Tumor depth: Deep
  Predicted: Tumor depth: deep.
    [85/486] biopsymitoticcount-int ... 
    Prompt (15336 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 05/07/2020
    
    Motivo: stadiazione di sarcoma retroperitoneale di nuova diagnosi.
    
    Sintesi clinica: paziente maschio, 68 anni, riferito per massa flank destra e dolore addominale insorti da alcune settimane; alla prima valuta
        ... [truncated 14536 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 42.13s)
  Expected:  Biopsy mitotic count: Unknown
  Predicted: Biopsy mitotic count: unknown
    [86/486] gender-int ... 
    Prompt (15378 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN 
        ... [truncated 14578 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.45s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [87/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3631 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "05/04/2018 — Nota di stadiazione
    
    Paziente: donna, 34 anni all'esordio. Epis
        ... [truncated 2831 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.60s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [88/486] necrosis_in_biopsy-int ... 
    Prompt (7992 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 7192 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 22.27s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): not appreciable
    [89/486] previous_cancer_treatment-int ... 
    Prompt (15671 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14871 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.37s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery, radiation.
    [90/486] chemotherapy_start-int ... 
    Prompt (17811 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 17011 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 55.49s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Systemic chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [91/486] surgerytype-fs30-int ... 
    Prompt (18478 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 17678 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 53.17s)
  Expected:  Surgery was not performed
  Predicted: Surgery was performed on 05/04/2018 and was macroscopically incomplete.
    [92/486] radiotherapy_start-int ... 
    Prompt (8388 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7588 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 32.06s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: External beam radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [93/486] recurrencetype-int ... 
    Prompt (15838 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15038 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.28s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: local.
    [94/486] radiotherapy_end-int ... 
    Prompt (15644 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 14844 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.41s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [95/486] tumorbiopsytype-int ... 
    Prompt (18341 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 2
        ... [truncated 17541 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.64, 56.04s)
  Expected:  Baseline/primary tumor core needle (agobiopsia ecoguidata) biopsy has been performed on 30/03/2018 in Unknown place
  Predicted: Baseline/primary tumor core-needle (eco-guidata) biopsy has been performed on 30/03/2018 in not specified.
    [96/486] necrosis_in_surgical-int ... 
    Prompt (5380 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4580 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.82s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed.
    [97/486] tumordiameter-int ... 
    Prompt (15507 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 20/06/2019 senza evidenza di ma
        ... [truncated 14707 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 45.74s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [98/486] patient-status-int ... 
    Prompt (16140 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 15340 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.74s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (bone, soft tissue)
    [99/486] response-to-int ... 
    Prompt (18061 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 17261 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 53.30s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to therapeutic treatment was: [select response]
    [100/486] stage_at_diagnosis-int ... 
    Prompt (15540 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diame
        ... [truncated 14740 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.48, 40.94s)
  Expected:  Stage at diagnosis (clinical AJCC): Localized (cT2 N0 M0) — clinical stage II (as of 05/04/2018)
  Predicted: Stage at diagnosis (clinical/pathologic): localized
    [101/486] chemotherapy_end-int ... 
    Prompt (16173 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 15373 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.14s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because [select reason].
    [102/486] occurrence_cancer-int ... 
    Prompt (17805 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17005 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.19s)
  Expected:  No previous or concurrent cancers
  Predicted: Occurrence of other cancer : gastric adenocarcinoma.
    [103/486] surgical-specimen-grading-int ... 
    Prompt (15026 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14226 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.60s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [104/486] ageatdiagnosis-int ... 
    Prompt (15350 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC 
        ... [truncated 14550 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 42.46s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis: 34 years
    [105/486] recur_or_prog-int ... 
    Prompt (13805 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13005 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 37.91s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was no progression/recurrence
    [106/486] histological-tipo-int ... 
    Prompt (15494 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preopera
        ... [truncated 14694 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 43.29s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
  Predicted: Histological type: Liposarcoma NOS (ICD-O-3: 8852/3)
    [107/486] surgical-mitotic-count-int ... 
    Prompt (7355 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 6555 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 21.35s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [108/486] tumorsite-int ... 
    Prompt (17840 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 17040 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 51.17s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2018-04-05_staging_4 completed in 1089.84s (avg 40.365s per prompt)

  Processing note: P001_2018-05-15_surgery_5 (surgery)
    [109/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2789 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto operatorio — 15/05/2018
    
    Intervento: ampia escissione locale con resezione parziale del compartimento anteriore della coscia sinistra (wide local excision, partial compartment resection). Atto chirurgico eseguito in regime di elezio
        ... [truncated 1989 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 6.72s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): Unknown biopsy grading.
    [110/486] surgerymargins-int ... 
    Prompt (13567 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/2020
    
    Paziente maschile, 68 anni, con diagnosi preoperatoria di leiomiosarcoma retroperitoneale destro FNCLCC grado 3 (biopsia 25/06/2020; referto istologico 02/07/2020) e stadiazione senza metastasi eseguita il 05/07/2020. Indicazione a resezione chirurgica en bloc discussa in MD
        ... [truncated 12767 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.26, 38.13s)
  Expected:  Margins after surgery: close (macroscopically close; microscopic margin status pending on definitive histology)
  Predicted: Margins after surgery: R0
    [111/486] tumordepth-int ... 
    Prompt (14102 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 20/06/2019 senza evidenza di malattia metastatica. A distanza di circa 6 settimane dalla biopsia percutane
        ... [truncated 13302 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 39.03s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [112/486] biopsymitoticcount-int ... 
    Prompt (13796 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto procedura TC-guidata: biopsia core percutanea della massa perirenale destra
    
    Data procedura: 25/06/2020.
    
    Indicazione: massa perirenale/retroperitoneale destra di sospetta natura neoplastica; quadro radiologico noto da T
        ... [truncated 12996 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 37.32s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [113/486] gender-int ... 
    Prompt (14281 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN 
        ... [truncated 13481 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.50, 37.62s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Male
    [114/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2953 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto operatorio — 15/05/2018
    
    Intervento: ampia escissione locale con res
        ... [truncated 2153 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.24s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [complete].
    [115/486] necrosis_in_biopsy-int ... 
    Prompt (7314 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6514 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.67s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): none.
    [116/486] previous_cancer_treatment-int ... 
    Prompt (14993 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14193 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.07s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery.
    [117/486] chemotherapy_start-int ... 
    Prompt (17133 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 16333 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 60.91s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [118/486] surgerytype-fs30-int ... 
    Prompt (17931 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 17131 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [119/486] radiotherapy_start-int ... 
    Prompt (7710 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 26/08/2019 — Visita oncologica / avvio radioterapia adiuvante.
    
    Paziente femmina, 22 anni, affetta
        ... [truncated 6910 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 29.57s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [120/486] recurrencetype-int ... 
    Prompt (15356 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 14556 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 40.32s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [121/486] radiotherapy_end-int ... 
    Prompt (14656 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 13856 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 52.53s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: - Annotation: Adjuvant radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [122/486] tumorbiopsytype-int ... 
    Prompt (13754 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 2
        ... [truncated 12954 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 38.32s)
  Expected:  Baseline/primary tumor core needle biopsy has been performed on 30/03/2018 in unknown place
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 30/03/2018 in unknown place.
    [123/486] necrosis_in_surgical-int ... 
    Prompt (4702 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3902 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [124/486] tumordiameter-int ... 
    Prompt (14409 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC torace e PET-TC del 20/06/2019 senza evidenza di ma
        ... [truncated 13609 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.85s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [125/486] patient-status-int ... 
    Prompt (15869 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 15069 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.04s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung, soft tissue, other)
    [126/486] response-to-int ... 
    Prompt (17383 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16583 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.31s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to therapeutic treatment was: [select response]
    [127/486] stage_at_diagnosis-int ... 
    Prompt (14441 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diame
        ... [truncated 13641 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 40.20s)
  Expected:  Stage at diagnosis (clinical): localized
  Predicted: Stage at diagnosis: localized.
    [128/486] chemotherapy_end-int ... 
    Prompt (15495 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 14695 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.51s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: - Annotation: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because [select reason]
    [129/486] occurrence_cancer-int ... 
    Prompt (18384 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17584 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: No previous or concurrent cancers.
    [130/486] surgical-specimen-grading-int ... 
    Prompt (13895 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 13095 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.96, 35.80s)
  Expected:  Surgical specimen grading (FNCLCC): unknown
  Predicted: Surgical specimen grading (FNCLCC): Unknown surgical specimen grading
    [131/486] ageatdiagnosis-int ... 
    Prompt (14253 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preoperatorio: TC 
        ... [truncated 13453 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 37.62s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis: 68 years
    [132/486] recur_or_prog-int ... 
    Prompt (13127 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 12327 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 32.65s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was no progression/recurrence.
    [133/486] histological-tipo-int ... 
    Prompt (14431 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — 15 luglio 2019
    
    Paziente: donna, 22 anni. Diagnosi preoperatoria: sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinistro prossimale al polso, diametro massimo documentato 45 mm su RMN del 25/05/2019. Staging preopera
        ... [truncated 13631 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 40.68s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
  Predicted: Histological type: Liposarcoma NOS (8852/3)
    [134/486] surgical-mitotic-count-int ... 
    Prompt (6677 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 5877 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.88s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [135/486] tumorsite-int ... 
    Prompt (16746 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 15946 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 47.23s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Note P001_2018-05-15_surgery_5 completed in 981.80s (avg 36.363s per prompt)

  Processing note: P001_2018-05-22_pathology_6 (pathology)
    [136/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (1797 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto anatomopatologico – data referto: 22/05/2018
    
    Materiale esaminato: resezione chirurgica del tumore del comparto anteriore della coscia sinistra, asportazione en bloc eseguita il 15/05/2018; dimensione massima del tumore compatibile 
        ... [truncated 997 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 5.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): FNCLCC grado 2.
    [137/486] surgerymargins-int ... 
    Prompt (13181 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Materiale inviato: pezzo di resezione chirurgica da exeresi ampia dell'avambraccio sinistro, regione volare in prossimità del polso (intervento eseguito il 15/07/2019).
    
    Esame macroscopico: frammento di tessuto contenente formazione solida, ben delimitata, del diametro massimo di 45
        ... [truncated 12381 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 35.01s)
  Expected:  Margins after surgery: microscopically negative (R0); closest margin 1 mm
  Predicted: Margins after surgery: R0
    [138/486] tumordepth-int ... 
    Prompt (13175 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 25/06/2020; campioni inviati per esame istologico e immunoistochimico.
    
    Materiale inviato: frammenti bioptici fissati in formolo, provenienza: massa retroperitoneale de
        ... [truncated 12375 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 34.71s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [139/486] biopsymitoticcount-int ... 
    Prompt (12254 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-g
        ... [truncated 11454 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 31.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown biopsy mitotic count.
    [140/486] gender-int ... 
    Prompt (13306 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 
        ... [truncated 12506 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 35.10s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [141/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (1961 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto anatomopatologico – data referto: 22/05/2018
    
    Materiale esaminato: r
        ... [truncated 1161 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 6.11s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [complete].
    [142/486] necrosis_in_biopsy-int ... 
    Prompt (6322 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 5522 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.29s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [143/486] previous_cancer_treatment-int ... 
    Prompt (14001 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13201 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 36.60s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery.
    [144/486] chemotherapy_start-int ... 
    Prompt (15301 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 14501 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.72s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [145/486] surgerytype-fs30-int ... 
    Prompt (16968 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 16168 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [146/486] radiotherapy_start-int ... 
    Prompt (6718 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 5918 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 27.16s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [147/486] recurrencetype-int ... 
    Prompt (13026 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 12226 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 34.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [148/486] radiotherapy_end-int ... 
    Prompt (13721 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 12921 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.34s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    [149/486] tumorbiopsytype-int ... 
    Prompt (13582 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 25/06/2020; campioni inviati per esame istologico e immunoistoc
        ... [truncated 12782 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.53, 37.55s)
  Expected:  Baseline/primary tumor core needle biopsy has been performed on 30/03/2018 in unknown place
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 04/06/2019 in not specified
    [150/486] necrosis_in_surgical-int ... 
    Prompt (3710 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 2910 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.56s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [151/486] tumordiameter-int ... 
    Prompt (13420 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 25/06/2020; campioni inviati per esame istologico e immunoistochimico.
    
    Materiale inviato: fr
        ... [truncated 12620 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.97s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [152/486] patient-status-int ... 
    Prompt (14373 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 13573 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 37.84s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    [153/486] response-to-int ... 
    Prompt (15880 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 15080 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to therapeutic treatment was: [select response]
    [154/486] stage_at_diagnosis-int ... 
    Prompt (13437 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 m
        ... [truncated 12637 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 33.87s)
  Expected:  Stage at diagnosis (clinical/radiological): localized
  Predicted: Stage at diagnosis (clinical/pathologic): localized
    [155/486] chemotherapy_end-int ... 
    Prompt (13689 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 01/11/2020 — Visita oncologica di controllo al termine del trattamento adiuvante.
    
    Motivo della visita: valutazione 
        ... [truncated 12889 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.05s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because [select reason].
    [156/486] occurrence_cancer-int ... 
    Prompt (17392 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 16592 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.56s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: No previous or concurrent cancers.
    [157/486] surgical-specimen-grading-int ... 
    Prompt (14446 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 13646 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 39.75s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [158/486] ageatdiagnosis-int ... 
    Prompt (13278 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 25/06/2020; campioni inviati per esame ist
        ... [truncated 12478 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 32.71s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis: 18 years
    [159/486] recur_or_prog-int ... 
    Prompt (12187 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 11387 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 31.47s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was no progression/recurrence.
    [160/486] histological-tipo-int ... 
    Prompt (13447 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-guidata eseguita il 25/06/2020; campioni inviati per
        ... [truncated 12647 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 37.65s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3); round-cell component <5%
  Predicted: Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
    [161/486] surgical-mitotic-count-int ... 
    Prompt (5685 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4885 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 13.38s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [162/486] tumorsite-int ... 
    Prompt (15700 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 14900 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 42.72s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Anterior compartment of the left thigh.
  Note P001_2018-05-22_pathology_6 completed in 896.75s (avg 33.213s per prompt)

  Processing note: P001_2018-06-15_oncology_7 (oncology)
    [163/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3199 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "15/06/2018
    
    Visita oncologica per avvio trattamento radioterapico adiuvante.
    
    Paziente donna, 34 anni, nota per liposarcoma mixoide della coscia sinistra (comparto anteriore) di diametro massimo circa 110 mm diagnosticato nella primavera 20
        ... [truncated 2399 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.02s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): FNCLCC grado 2.
    [164/486] surgerymargins-int ... 
    Prompt (15051 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare sinistra di circa 3 mesi di evoluzione. RMN preoperatoria del 25/05/2019 e biop
        ... [truncated 14251 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 39.14s)
  Expected:  Margins after surgery: R0 (microscopically negative), closest margin 1 mm
  Predicted: Margins after surgery: R0
    [165/486] tumordepth-int ... 
    Prompt (16755 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare sinistra di circa 3 mesi di evoluzione. RMN preoperatoria del 25/05/2019 e biopsia confermarono sarcoma sinoviale monophasico, FNCLCC grado 2; resezione chirurgica esegu
        ... [truncated 15955 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 45.83s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [166/486] biopsymitoticcount-int ... 
    Prompt (15428 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-g
        ... [truncated 14628 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.31s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown biopsy mitotic count
    [167/486] gender-int ... 
    Prompt (16934 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare s
        ... [truncated 16134 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 43.40s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [168/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3363 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "15/06/2018
    
    Visita oncologica per avvio trattamento radioterapico adiuvante.
        ... [truncated 2563 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 18.17s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/06/2018] and was macroscopically [select result].
    [169/486] necrosis_in_biopsy-int ... 
    Prompt (7724 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6924 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.91s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): none.
    [170/486] previous_cancer_treatment-int ... 
    Prompt (15403 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14603 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.39s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery (wide local excision 15/05/2018) and adjuvant radiotherapy (50 Gy/25 fx).
    [171/486] chemotherapy_start-int ... 
    Prompt (16703 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 15903 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.52s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative chemotherapy with adjuvant intent started on [provide date] and utilized [select regimen] regimen.
    [172/486] surgerytype-fs30-int ... 
    Prompt (16788 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15988 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.18s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [173/486] radiotherapy_start-int ... 
    Prompt (8120 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 26/08/2019 — Visita oncologica / avvio radioterapia adiuvante.
    
    Paziente femmina, 22 anni, affetta
        ... [truncated 7320 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.15, 25.29s)
  Expected:  External-beam radiotherapy (external) with adjuvant intention started at left thigh surgical bed on 15/06/2018 (planned total dose 50 Gy in 25 fractio...
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [174/486] recurrencetype-int ... 
    Prompt (16528 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15728 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [175/486] radiotherapy_end-int ... 
    Prompt (16125 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 15325 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.76s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy in total of 50 Gy in 25 fractions ended on 04/10/2019 because of completed as planned
    [176/486] tumorbiopsytype-int ... 
    Prompt (16242 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima
        ... [truncated 15442 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.80s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor core biopsy has been performed on 22/03/2018 in unknown place
    [177/486] necrosis_in_surgical-int ... 
    Prompt (5112 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4312 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.95s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [178/486] tumordiameter-int ... 
    Prompt (17062 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare sinistra di circa 3 mesi di evoluzione. RMN preoperatoria del 25/05/2019 e biopsia confermaron
        ... [truncated 16262 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 48.64s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018).
    [179/486] patient-status-int ... 
    Prompt (14805 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14005 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.98s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung, soft tissue, other)
    [180/486] response-to-int ... 
    Prompt (17282 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16482 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.97s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to radiotherapy was: [select response]
    [181/486] stage_at_diagnosis-int ... 
    Prompt (17110 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, prese
        ... [truncated 16310 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 45.26s)
  Expected:  Stage at diagnosis (clinical): localized
  Predicted: Stage at diagnosis (clinical/radiological): localized
    [182/486] chemotherapy_end-int ... 
    Prompt (15815 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 15015 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.84s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant systemic chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [183/486] occurrence_cancer-int ... 
    Prompt (18794 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17994 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.20s)
  Expected:  No previous or concurrent cancers
  Predicted: Occurrence of other cancer : myoma uteri 2010.
    [184/486] surgical-specimen-grading-int ... 
    Prompt (15373 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14573 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 41.28s)
  Expected:  Surgical specimen grading (FNCLCC): 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [185/486] ageatdiagnosis-int ... 
    Prompt (16906 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare sinistra di circa 3 mesi di evoluzione. RMN
        ... [truncated 16106 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 47.03s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis 34 years.
    [186/486] recur_or_prog-int ... 
    Prompt (14040 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13240 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.24s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 15/06/2018
    [187/486] histological-tipo-int ... 
    Prompt (17042 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 agosto 2019
    
    Motivo: discussione in tumor board e decisione terapeutica postoperatoria per sarcoma sinoviale della regione volare dell'avambraccio sinistro.
    
    Sintesi clinica: paziente femmina, 22 anni, presentata inizialmente con massa volare sinistra di circa 3 mesi di evolu
        ... [truncated 16242 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 48.29s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3)
  Predicted: Histological type: Liposarcoma, NOS (ICD-O-3: 8852/3)
    [188/486] surgical-mitotic-count-int ... 
    Prompt (7087 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 6287 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.59s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [189/486] tumorsite-int ... 
    Prompt (19396 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 18596 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 53.99s)
  Expected:  Tumor site (Upper and Lower limbs): left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Note P001_2018-06-15_oncology_7 completed in 1052.19s (avg 38.970s per prompt)

  Processing note: P001_2018-07-23_oncology_8 (oncology)
    [190/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2607 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 23/07/2018
    
    Contesto: paziente femmina, 34 anni all’esordio, storia di massa indolore del compartimento anteriore della coscia sinistra presente da circa 6 mesi; diagnosi istologica di myxoid liposarcoma (ICD-O-3 8852/3) FNCLCC G2 con
        ... [truncated 1807 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 6.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): G2.
    [191/486] surgerymargins-int ... 
    Prompt (13718 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm. Resezione chirurgica eseguita il 15/07/2019 
        ... [truncated 12918 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.63, 36.61s)
  Expected:  Margins after surgery: R0 (closest margin 1 mm)
  Predicted: Margins after surgery: R0
    [192/486] tumordepth-int ... 
    Prompt (13005 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm. Resezione chirurgica eseguita il 15/07/2019 con margini negativi (R0), margine più vicino 2 mm; decisione multidisciplinare di indicar
        ... [truncated 12205 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 34.09s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [193/486] biopsymitoticcount-int ... 
    Prompt (13436 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti tissutali derivanti da core-needle biopsy della lesione volare dell'avambraccio sinistro (prelevata il 04/06/2019), più c
        ... [truncated 12636 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 34.57s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [194/486] gender-int ... 
    Prompt (13592 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino a
        ... [truncated 12792 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.33s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [195/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2771 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 23/07/2018
    
    Contesto: paziente femmina, 34 anni all’esordio, storia di
        ... [truncated 1971 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.78s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [196/486] necrosis_in_biopsy-int ... 
    Prompt (7132 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6332 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.95s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [197/486] previous_cancer_treatment-int ... 
    Prompt (14811 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14011 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 37.21s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery, Radiation
    [198/486] chemotherapy_start-int ... 
    Prompt (16111 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/03/2023
    
    Visita oncologica di controllo dopo completamento terapia citotossica. Paziente femmina, diagnosticata 
        ... [truncated 15311 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 56.53s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [199/486] surgerytype-fs30-int ... 
    Prompt (14985 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 14185 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [200/486] radiotherapy_start-int ... 
    Prompt (7528 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6728 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.37, 24.21s)
  Expected:  external beam radiotherapy (EBRT) with adjuvant intention started on 2018-06-15
  Predicted: External beam radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [201/486] recurrencetype-int ... 
    Prompt (16505 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15705 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.78s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [202/486] radiotherapy_end-int ... 
    Prompt (15075 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di 
        ... [truncated 14275 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.65, 43.90s)
  Expected:  external beam radiotherapy in total of 50 Gy in 25 fractions ended on 2018-07-23
  Predicted: Adjuvant radiotherapy in total of 50 Gy in 25 fractions ended on 23/07/2018 because of completed planned adjuvant treatment.
    [203/486] tumorbiopsytype-int ... 
    Prompt (14390 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm. Resezione chirurgica eseguita
        ... [truncated 13590 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.78, 41.80s)
  Expected:  Baseline/primary tumor core-needle biopsy has been performed on 2018-03-30 in unknown place
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 15/05/2018 in unknown place
    [204/486] necrosis_in_surgical-int ... 
    Prompt (4520 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3720 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [205/486] tumordiameter-int ... 
    Prompt (13723 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm. Resezione chirurgica eseguita il 15/07/2019 con margini neg
        ... [truncated 12923 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.60, 40.08s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 2018-03-22)
  Predicted: Tumor longest diameter: 45 mm (at initial imaging on 15/05/2018).
    [206/486] patient-status-int ... 
    Prompt (15094 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14294 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.57, 43.49s)
  Expected:  Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (coscia sinistra)
    [207/486] response-to-int ... 
    Prompt (17347 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16547 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.49s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to radiotherapy was: [select response]
    [208/486] stage_at_diagnosis-int ... 
    Prompt (13802 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambrac
        ... [truncated 13002 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.28s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Stage at diagnosis (clinical): localized
    [209/486] chemotherapy_end-int ... 
    Prompt (15313 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/03/2023
    
    Visita oncologica di controllo dopo completamento terapia citotossica. Paziente femmina, diagnosti
        ... [truncated 14513 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.30s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant radiotherapy ended on 23/07/2018 after 25 fractions because of completion of planned treatment
    [210/486] occurrence_cancer-int ... 
    Prompt (17123 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 16323 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.72s)
  Expected:  No previous or concurrent cancers
  Predicted: Occurrence of other cancer : myoma uteri 2010.
    [211/486] surgical-specimen-grading-int ... 
    Prompt (14063 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 13263 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 40.06s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [212/486] ageatdiagnosis-int ... 
    Prompt (13562 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm. Resezion
        ... [truncated 12762 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 38.92s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis: 34 years
    [213/486] recur_or_prog-int ... 
    Prompt (14019 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13219 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 38.38s)
  Expected:  There was no progression/recurrence
  Predicted: There was no progression/recurrence.
    [214/486] histological-tipo-int ... 
    Prompt (13726 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca della diagnosi, affetta da synovial sarcoma monophasic (ICD-O-3 9040/3), FNCLCC grado 2, sede primaria avambraccio sinistro (aspetto volare vicino al polso), diametro massimo 45 mm
        ... [truncated 12926 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 38.22s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
    [215/486] surgical-mitotic-count-int ... 
    Prompt (6495 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5695 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [216/486] tumorsite-int ... 
    Prompt (16074 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 15274 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 44.79s)
  Expected:  Tumor site (Upper and Lower limbs): left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Anterior compartment of the left thigh.
  Note P001_2018-07-23_oncology_8 completed in 957.49s (avg 35.463s per prompt)

  Processing note: P001_2019-01-10_follow-up_9 (follow-up)
    [217/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2877 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "10 gennaio 2019 — Visita di follow-up oncologica
    
    Motivo della visita: controllo clinico e di imaging a distanza del trattamento per liposarcoma mixoide della coscia sinistra.
    
    Breve storia: paziente femmina, 34 anni all’epoca della diagnos
        ... [truncated 2077 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 7.71s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): FNCLCC grado 2.
    [218/486] surgerymargins-int ... 
    Prompt (15177 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 20/10/2020.
    
    Motivo della visita: controllo programmato a 12 mesi dopo la fine della radioterapia.
    
    Breve anamnesi: donna di 22 anni all’esordio, con sinovial sarcoma monophasico del compartimento volare dell’avambraccio sinistro (9040/3), dimensione massima 45 mm, FNCLCC grado 2. Intervento
        ... [truncated 14377 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 42.78s)
  Expected:  Margins after surgery: R0 (negative) — closest margin 1 mm
  Predicted: Margins after surgery: R0 (negative margins; minimum 1 mm)
    [219/486] tumordepth-int ... 
    Prompt (16009 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima valutazione presso il centro il 10/06/2020. TC addome con mezzo di contrasto eseguita il 18/06/2020 ha d
        ... [truncated 15209 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.41s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [220/486] biopsymitoticcount-int ... 
    Prompt (14878 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 05/07/2020
    
    Motivo: stadiazione di sarcoma retroperitoneale di nuova diagnosi.
    
    Sintesi clinica: paziente maschio, 68 anni, riferito per massa flank destra e dolore addominale insorti da alcune settimane; alla prima valuta
        ... [truncated 14078 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.94s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [221/486] gender-int ... 
    Prompt (16151 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce d
        ... [truncated 15351 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.42s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [222/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3041 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "10 gennaio 2019 — Visita di follow-up oncologica
    
    Motivo della visita: contr
        ... [truncated 2241 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.24s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [223/486] necrosis_in_biopsy-int ... 
    Prompt (7402 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6602 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.19s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [224/486] previous_cancer_treatment-int ... 
    Prompt (15081 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14281 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.71s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery (wide local excision 15/05/2018) and adjuvant radiotherapy (50 Gy in 25 fractions completed 23/07/2018)
    [225/486] chemotherapy_start-int ... 
    Prompt (16680 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 15880 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 59.56s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Systemic chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [226/486] surgerytype-fs30-int ... 
    Prompt (15076 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 14276 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.33s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [227/486] radiotherapy_start-int ... 
    Prompt (7798 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 26/08/2019 — Visita oncologica / avvio radioterapia adiuvante.
    
    Paziente femmina, 22 anni, affetta
        ... [truncated 6998 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 32.10s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [228/486] recurrencetype-int ... 
    Prompt (16293 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15493 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.16s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [229/486] radiotherapy_end-int ... 
    Prompt (16320 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 15520 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.89, 48.39s)
  Expected:  External radiotherapy in total of 50Gy in 25 fractions ended on 2018-07-23 because of treatment completed
  Predicted: Adjuvant external beam radiotherapy in total of 50Gy in 25 fractions ended on 23/07/2018 because of completed planned treatment
    [230/486] tumorbiopsytype-int ... 
    Prompt (17296 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima
        ... [truncated 16496 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.14s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 04/06/2019 in institution not specified
    [231/486] necrosis_in_surgical-int ... 
    Prompt (4790 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3990 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 11.88s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [232/486] tumordiameter-int ... 
    Prompt (16284 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima valutazione presso il centro 
        ... [truncated 15484 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 46.95s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 2018-03-22)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 15/05/2018).
    [233/486] patient-status-int ... 
    Prompt (14940 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14140 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.17s)
  Expected:  Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
  Predicted: Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    [234/486] response-to-int ... 
    Prompt (16960 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16160 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [235/486] stage_at_diagnosis-int ... 
    Prompt (16346 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: p
        ... [truncated 15546 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.38s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Stage at diagnosis: localized.
    [236/486] chemotherapy_end-int ... 
    Prompt (15723 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 14923 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.58s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [237/486] occurrence_cancer-int ... 
    Prompt (18472 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17672 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.30s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : gastric adenocarcinoma.
    [238/486] surgical-specimen-grading-int ... 
    Prompt (15968 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 15168 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.26s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [239/486] ageatdiagnosis-int ... 
    Prompt (16127 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da al
        ... [truncated 15327 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.47s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis: 34 years
    [240/486] recur_or_prog-int ... 
    Prompt (13806 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13006 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.21s)
  Expected:  There was no progression/recurrence
  Predicted: There was no progression/recurrence.
    [241/486] histological-tipo-int ... 
    Prompt (16267 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpa
        ... [truncated 15467 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 47.25s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Liposarcoma NOS (ICD-O-3: 8852/3)
    [242/486] surgical-mitotic-count-int ... 
    Prompt (6765 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 5965 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [243/486] tumorsite-int ... 
    Prompt (18595 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 17795 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 53.56s)
  Expected:  Tumor site (Upper and Lower limbs): left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2019-01-10_follow-up_9 completed in 1067.03s (avg 39.520s per prompt)

  Processing note: P001_2020-01-15_follow-up_10 (follow-up)
    [244/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2751 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 15/01/2020
    
    Visita di follow-up oncologico presso il centro per sarcomi.
    
    Breve anamnesi: paziente femmina, diagnosticata a 34 anni con liposarcoma mixoide della coscia sinistra (ICD-O-3 8852/3), diametro massimo documentato 110 mm, F
        ... [truncated 1951 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 7.01s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): 2.
    [245/486] surgerymargins-int ... 
    Prompt (14482 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione en bloc eseguita il 22/07/2020 con conservazione del rene destro e margine micr
        ... [truncated 13682 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.59, 39.16s)
  Expected:  Margins after surgery: microscopically negative (R0), closest margin 1 mm
  Predicted: Margins after surgery: R0 (negative margins)
    [246/486] tumordepth-int ... 
    Prompt (14998 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione en bloc eseguita il 22/07/2020 con conservazione del rene destro e margine microscopico positivo (R1); trattamento adiuvante con doxorubicina + ifosfamide completato il 
        ... [truncated 14198 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 40.78s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep
    [247/486] biopsymitoticcount-int ... 
    Prompt (16254 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Centro di Riferimento per Sarcomi — Visita specialistica del 10/06/2020
    
    Motivo della visita: paziente maschio, 68 anni, riferito per dolore progressivo al fianco destro e massa addominale palpabile insorta da circa 6 settimane.
        ... [truncated 15454 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.58s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [248/486] gender-int ... 
    Prompt (15154 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione e
        ... [truncated 14354 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.70s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [249/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2915 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 15/01/2020
    
    Visita di follow-up oncologico presso il centro per sarcom
        ... [truncated 2115 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.21s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [complete].
    [250/486] necrosis_in_biopsy-int ... 
    Prompt (7276 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6476 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 18.13s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [251/486] previous_cancer_treatment-int ... 
    Prompt (14955 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14155 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.62s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: surgery (wide local excision 15/05/2018) and adjuvant radiotherapy (50 Gy completed 23/07/2018)
    [252/486] chemotherapy_start-int ... 
    Prompt (17102 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 16302 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 63.03s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Systemic chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [253/486] surgerytype-fs30-int ... 
    Prompt (19395 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 18595 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 55.75s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [254/486] radiotherapy_start-int ... 
    Prompt (7672 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6872 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.21, 30.69s)
  Expected:  External beam radiotherapy (external beam) with adjuvant intention started on 15/06/2018
  Predicted: Pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [255/486] recurrencetype-int ... 
    Prompt (17887 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 17087 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.74s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [256/486] radiotherapy_end-int ... 
    Prompt (16174 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 15374 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.75, 46.69s)
  Expected:  External beam radiotherapy in total of 50 Gy in unknown number of fractions ended on 23/07/2018 because of planned completion (adjuvant therapy comple...
  Predicted: Adjuvant radiotherapy in total of 50 Gy in 25 fractions ended on 23/07/2018 because of completed planned adjuvant treatment
    [257/486] tumorbiopsytype-int ... 
    Prompt (17178 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di follow‑up del 15/04/2020
    
    Motivo della visita: controllo post‑terapia dopo resezione e radioterapia del sarcoma dell'avambraccio sinistro.
    
    Anamnesi sintetica: paziente femmina, diagnosticata a 22 anni con sarcoma sinoviale monophasico (9040/3), FNCLCC grado 2, lesione volare dell'avambraccio sinist
        ... [truncated 16378 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.97s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 04/06/2019 in unknown place
    [258/486] necrosis_in_surgical-int ... 
    Prompt (4664 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3864 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.33s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [259/486] tumordiameter-int ... 
    Prompt (15286 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione en bloc eseguita il 22/07/2020 con conservazione del rene destro e margine microscopico positi
        ... [truncated 14486 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 44.67s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 22/03/2018)
  Predicted: Tumor longest diameter: 110 mm (at initial imaging on 15/05/2018).
    [260/486] patient-status-int ... 
    Prompt (16408 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 15608 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 47.20s)
  Expected:  Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
  Predicted: Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    [261/486] response-to-int ... 
    Prompt (17699 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16899 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.47s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [262/486] stage_at_diagnosis-int ... 
    Prompt (15317 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180
        ... [truncated 14517 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 42.58s)
  Expected:  Stage at diagnosis (clinical): localized
  Predicted: Stage at diagnosis (clinical/radiologic): localized
    [263/486] chemotherapy_end-int ... 
    Prompt (16357 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 15557 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 59.72s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [264/486] occurrence_cancer-int ... 
    Prompt (18346 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17546 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 51.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: No previous or concurrent cancers.
    [265/486] surgical-specimen-grading-int ... 
    Prompt (15551 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14751 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 43.39s)
  Expected:  Surgical specimen grading (FNCLCC): grade 2
  Predicted: Surgical specimen grading (FNCLCC): 2
    [266/486] ageatdiagnosis-int ... 
    Prompt (15128 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione en bloc eseguita il 22/07/2020 con conserva
        ... [truncated 14328 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 39.77s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis 34 years.
    [267/486] recur_or_prog-int ... 
    Prompt (15079 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 14279 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.86s)
  Expected:  There was no progression/recurrence
  Predicted: There was no progression/recurrence.
    [268/486] histological-tipo-int ... 
    Prompt (15254 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomiosarcoma retroperitoneale destro (ICD‑O‑3 8890/3), FNCLCC grado 3, massa perirenale di circa 180 mm. In anamnesi recente: resezione en bloc eseguita il 22/07/2020 co
        ... [truncated 14454 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.59, 43.53s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3)
  Predicted: Histological type: Liposarcoma, mixed type (8852/3)
    [269/486] surgical-mitotic-count-int ... 
    Prompt (6639 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5839 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.48s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [270/486] tumorsite-int ... 
    Prompt (17647 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 16847 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 51.21s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh
  Note P001_2020-01-15_follow-up_10 completed in 1085.35s (avg 40.198s per prompt)

  Processing note: P001_2021-01-20_follow-up_11 (follow-up)
    [271/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2990 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "20/01/2021 — Visita di follow-up oncologico
    
    Motivo della visita: controllo clinico e imaging a distanza di circa 3 anni dall’intervento chirurgico per liposarcoma mixoide della coscia sinistra.
    
    Anamnesi sintetica: paziente femmina, diagno
        ... [truncated 2190 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 7.84s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): FNCLCC grade 2.
    [272/486] surgerymargins-int ... 
    Prompt (14296 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma retroperitoneale destro.
    
    Breve riepilogo: paziente maschio, 68 anni, presentato inizialmente a giugno 2020 per dolore al fianco destro e massa addominale palpabile; TC del 18/06/2020 ha documentato massa p
        ... [truncated 13496 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 37.90s)
  Expected:  Margins after surgery: microscopically negative (R0), closest margin 1 mm
  Predicted: Margins after surgery: R0
    [273/486] tumordepth-int ... 
    Prompt (15925 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima valutazione presso il centro il 10/06/2020. TC addome con mezzo di contrasto eseguita il 18/06/2020 ha d
        ... [truncated 15125 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 43.61s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [274/486] biopsymitoticcount-int ... 
    Prompt (15176 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomo-patologico redatto in data 02/07/2020.
    
    Dati clinici: paziente maschio 68 anni, massa perirenale/retroperitoneale destra documentata alla TC del 18/06/2020 (diametro massimo approssimativo 180 mm). Biopsia core-g
        ... [truncated 14376 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.07s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown biopsy mitotic count
    [275/486] gender-int ... 
    Prompt (15999 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce d
        ... [truncated 15199 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 45.40s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [276/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3154 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "20/01/2021 — Visita di follow-up oncologico
    
    Motivo della visita: controllo 
        ... [truncated 2354 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.84s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [complete].
    [277/486] necrosis_in_biopsy-int ... 
    Prompt (7515 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (biopsia core-needle) - data referto: 12/06/2019
    
    Materiale esaminato: frammenti
        ... [truncated 6715 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.26s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [278/486] previous_cancer_treatment-int ... 
    Prompt (15194 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14394 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.82s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery (en bloc resection 15/05/2018) and adjuvant radiotherapy (50 Gy/25 fx completed 23/07/2018)
    [279/486] chemotherapy_start-int ... 
    Prompt (16764 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 15964 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 54.77s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Systemic chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [280/486] surgerytype-fs30-int ... 
    Prompt (16691 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15891 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.83, 44.43s)
  Expected:  Surgery was performed on 15/05/2018 and was macroscopically complete (en bloc resection)
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [281/486] radiotherapy_start-int ... 
    Prompt (7911 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 26/08/2019 — Visita oncologica / avvio radioterapia adiuvante.
    
    Paziente femmina, 22 anni, affetta
        ... [truncated 7111 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 27.83s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [282/486] recurrencetype-int ... 
    Prompt (15454 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 14654 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.32s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: None.
    [283/486] radiotherapy_end-int ... 
    Prompt (15386 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di controllo oncologica — 2
        ... [truncated 14586 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.70, 44.20s)
  Expected:  External beam radiotherapy in total of 50Gy in 25 fractions ended on 23/07/2018 because of treatment completed (adjuvant intention)
  Predicted: Adjuvant radiotherapy in total of 50 Gy in 25 fractions ended on 23/07/2018 because of planned completion of treatment
    [284/486] tumorbiopsytype-int ... 
    Prompt (16289 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima
        ... [truncated 15489 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 44.37s)
  Expected:  Baseline/primary tumor biopsy has been performed on unknown date in unknown place
  Predicted: Baseline/primary tumor core-needle biopsy has been performed on 04/06/2019 in institution not specified
    [285/486] necrosis_in_surgical-int ... 
    Prompt (4903 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4103 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 11.79s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [286/486] tumordiameter-int ... 
    Prompt (16120 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da alcune settimane; prima valutazione presso il centro 
        ... [truncated 15320 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 45.06s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on unknown)
  Predicted: Tumor longest diameter: 45 mm (at initial imaging on 25/05/2019)
    [287/486] patient-status-int ... 
    Prompt (15355 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14555 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 42.09s)
  Expected:  Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
  Predicted: Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    [288/486] response-to-int ... 
    Prompt (17073 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16273 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.77s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to therapeutic treatment was: [select response]
    [289/486] stage_at_diagnosis-int ... 
    Prompt (16168 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: p
        ... [truncated 15368 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 43.06s)
  Expected:  Stage at diagnosis (clinical/pathological): localized
  Predicted: Stage at diagnosis: localized.
    [290/486] chemotherapy_end-int ... 
    Prompt (14981 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15/08/2021 — Visita di follow‑up oncologico (controllo di sorveglianza).
    
    Paziente maschio, con diagnosi di leiomios
        ... [truncated 14181 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.10s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on 15/05/2018 after 1 cycle because of completion of planned treatment (regimen: not specified)
    [291/486] occurrence_cancer-int ... 
    Prompt (18585 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17785 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 49.86s)
  Expected:  No previous or concurrent cancers
  Predicted: No previous or concurrent cancers.
    [292/486] surgical-specimen-grading-int ... 
    Prompt (16394 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 15594 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 44.47s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): 2
    [293/486] ageatdiagnosis-int ... 
    Prompt (15975 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpabile da al
        ... [truncated 15175 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 40.64s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis 34 years.
    [294/486] recur_or_prog-int ... 
    Prompt (13936 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13136 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.79s)
  Expected:  There was no progression/recurrence
  Predicted: There was no progression/recurrence.
    [295/486] histological-tipo-int ... 
    Prompt (16133 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10 luglio 2020
    
    Motivo della discussione: valutazione multidisciplinare per massa retroperitoneale destra ad alto grado (leiomiosarcoma FNCLCC 3) e definizione strategia terapeutica primaria.
    
    Breve anamnesi: paziente maschio, 68 anni, riferisce dolore/flank destro e massa palpa
        ... [truncated 15333 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.97s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
  Predicted: Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
    [296/486] surgical-mitotic-count-int ... 
    Prompt (6878 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 6078 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.88s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count.
    [297/486] tumorsite-int ... 
    Prompt (18373 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 17573 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 51.38s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2021-01-20_follow-up_11 completed in 1018.53s (avg 37.723s per prompt)

  Processing note: P001_2022-09-01_radiology_12 (radiology)
    [298/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2147 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto TC torace
    Data esame: 01/09/2022
    
    Motivo: sorveglianza in paziente con pregresso liposarcoma mixoide della coscia sinistra (resezione R0 15/05/2018, RT adiuvante completata 23/07/2018).
    
    Tecnica: acquisizione TC torace volumetrica e
        ... [truncated 1347 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 5.47s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): Unknown biopsy grading.
    [299/486] surgerymargins-int ... 
    Prompt (14367 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni focali polmonari significative.
    
    Risultati: multiple nodulazioni polmonari a 
        ... [truncated 13567 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 38.14s)
  Expected:  Margins after surgery: microscopically negative (R0)
  Predicted: Margins after surgery: R0
    [300/486] tumordepth-int ... 
    Prompt (13930 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 15/09/2022
    
    Diagnosi principale: recidiva sistemica di sarcoma sinoviale monophasico (ICD-O-3 9040/3), FNCLCC grado 2, con interessamento esclusivo polmonare. Storia oncologica: tumore primitivo al compartimento volare dell'avambraccio sinistro (diametro massimo 45 mm) trattato con exeresi demolitiva wide local excision il 15/07/2019 con margini R0 (margine minimo 2 mm) seguito da radioterapia adiuvante 50
        ... [truncated 13130 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 37.74s)
  Expected:  Tumor depth: deep
  Predicted: Tumor depth: deep.
    [301/486] biopsymitoticcount-int ... 
    Prompt (13268 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sarcoma monophasico dell'avambraccio sinistro trattato con escissione ampia e radioterapia nel 2019; TC torace 15/08/2022 e 
        ... [truncated 12468 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.60s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: unknown
    [302/486] gender-int ... 
    Prompt (13337 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni
        ... [truncated 12537 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 34.72s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [303/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2311 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto TC torace
    Data esame: 01/09/2022
    
    Motivo: sorveglianza in paziente c
        ... [truncated 1511 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.92s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [304/486] necrosis_in_biopsy-int ... 
    Prompt (6672 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 5872 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.14s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): unknown.
    [305/486] previous_cancer_treatment-int ... 
    Prompt (14351 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13551 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.22, 37.75s)
  Expected:  Previous cancer treatment: surgery (partial compartmental wide excision on 15/05/2018) and adjuvant radiotherapy (50 Gy, completed 23/07/2018)
  Predicted: Previous cancer treatment: Surgery, Radiation, Other.
    [306/486] chemotherapy_start-int ... 
    Prompt (16519 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC g
        ... [truncated 15719 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.54s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    [307/486] surgerytype-fs30-int ... 
    Prompt (15450 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 14650 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.54s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [308/486] radiotherapy_start-int ... 
    Prompt (7068 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6268 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 21.04s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [309/486] recurrencetype-int ... 
    Prompt (14592 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 13792 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.61, 41.62s)
  Expected:  Type of recurrence/progression: distant metastases (lungs)
  Predicted: Type of recurrence/progression: distant metastases - lungs (bilateral, multiple nodules, max 15 mm)
    [310/486] radiotherapy_end-int ... 
    Prompt (14760 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: PET‑TC con 18F‑FDG
    Data: 25
        ... [truncated 13960 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 44.13s)
  Expected:  External beam radiotherapy in total of 50 Gy in unknown number of fractions ended on 23/07/2018 because of planned completion of adjuvant treatment.
  Predicted: pre-operative radiotherapy in total of 50 Gy in 25 fractions ended on 04/10/2019 because of planned completion
    [311/486] tumorbiopsytype-int ... 
    Prompt (14380 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 15/09/2022
    
    Diagnosi principale: recidiva sistemica di sarcoma sinoviale monophasico (ICD-O-3 9040/3), FNCLCC grado 2, con interessamento esclusivo polmonare. Storia oncologica: tumore primitivo al compartimento volare dell'avambraccio sinistro (diametro massimo 45 mm) trattato con exeresi demolitiva wi
        ... [truncated 13580 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.92s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor CT-guided biopsy has been performed on 04/06/2019 in sala ecografica (ultrasound room).
    [312/486] necrosis_in_surgical-int ... 
    Prompt (4060 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3260 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.21s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [313/486] tumordiameter-int ... 
    Prompt (13441 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni focali polmonari significative.
    
    Risultati: multiple nodulazioni polmonari a sede bilaterale
        ... [truncated 12641 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 37.73s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 03/2018)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022).
    [314/486] patient-status-int ... 
    Prompt (14961 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 14161 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.77, 41.63s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs) (last contact date 01/09/2022)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
    [315/486] response-to-int ... 
    Prompt (17095 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16295 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 44.39s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: [select response]
    [316/486] stage_at_diagnosis-int ... 
    Prompt (13369 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), n
        ... [truncated 12569 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 33.88s)
  Expected:  Stage at diagnosis (clinical): localized
  Predicted: Stage at diagnosis (clinical): localized
    [317/486] chemotherapy_end-int ... 
    Prompt (16523 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNC
        ... [truncated 15723 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 55.92s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: - Annotation: Systemic chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [318/486] occurrence_cancer-int ... 
    Prompt (17742 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 16942 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.79s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : non-small cell lung cancer.
    [319/486] surgical-specimen-grading-int ... 
    Prompt (13944 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 13144 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 36.38s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 3
    [320/486] ageatdiagnosis-int ... 
    Prompt (13309 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni focali polmonari significative.
    
    Risultat
        ... [truncated 12509 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 34.78s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis 55 years.
    [321/486] recur_or_prog-int ... 
    Prompt (14515 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13715 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.41s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 01/09/2022
    [322/486] histological-tipo-int ... 
    Prompt (13475 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni focali polmonari significative.
        ... [truncated 12675 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.50, 37.65s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
  Predicted: Histological type: Liposarcoma NOS (ICD-O-3: 8850/3)
    [323/486] surgical-mitotic-count-int ... 
    Prompt (6035 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5235 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.35s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count.
    [324/486] tumorsite-int ... 
    Prompt (15733 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 14933 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.17, 43.91s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Intra abdominal): Retroperitoneal.
  Note P001_2022-09-01_radiology_12 completed in 935.32s (avg 34.642s per prompt)

  Processing note: P001_2022-09-15_pathology_13 (pathology)
    [325/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2394 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto istopatologico – data: 15/09/2022
    
    Materiale ricevuto: campione di biopsia core ottenuto sotto guida TC da nodulo polmonare dominante (sede: polmone, lesione nodulare riferita di 15 mm alla TC del 01/09/2022).
    
    Descrizione macroscop
        ... [truncated 1594 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 6.03s)
  Expected:  Biopsy grading (FNCLCC): 2
  Predicted: Biopsy grading (FNCLCC): 2.
    [326/486] surgerymargins-int ... 
    Prompt (12513 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopico: frammenti di neoplasia a predomin
        ... [truncated 11713 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 31.66s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Margins after surgery: R0
    [327/486] tumordepth-int ... 
    Prompt (11671 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sarcoma monophasico dell'avambraccio sinistro trattato con escissione ampia e radioterapia nel 2019; TC torace 15/08/2022 e PET‑TC 25/08/2022 con multiple nodularità polmonari FDG‑avid; biopsia TC‑guidata del nodulo dominante lobo inferiore destro eseguita in data odierna.
    
    Materiale inviato: campione bioptico
        ... [truncated 10871 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 30.78s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor depth: deep.
    [328/486] biopsymitoticcount-int ... 
    Prompt (11904 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multipl
        ... [truncated 11104 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.97, 31.11s)
  Expected:  Biopsy mitotic count: Unknown biopsy mitotic count
  Predicted: Biopsy mitotic count: unknown
    [329/486] gender-int ... 
    Prompt (11832 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptic
        ... [truncated 11032 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.50, 30.97s)
  Expected:  Patient's gender female
  Predicted: Patient's gender: Male
    [330/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2558 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto istopatologico – data: 15/09/2022
    
    Materiale ricevuto: campione di b
        ... [truncated 1758 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [331/486] necrosis_in_biopsy-int ... 
    Prompt (6919 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 6119 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.91s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [332/486] previous_cancer_treatment-int ... 
    Prompt (14598 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13798 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: surgery.
    [333/486] chemotherapy_start-int ... 
    Prompt (16357 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 15/08/2020
    
    Motivo della visita: inizio chemioterapia adiuvante dopo resezione di leiomiosarcoma re
        ... [truncated 15557 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 59.18s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Systemic chemotherapy with palliative intent started on [provide date] and utilized [select regimen] regimen.
    [334/486] surgerytype-fs30-int ... 
    Prompt (15999 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15199 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.28s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 22/05/2018 and was macroscopically complete.
    [335/486] radiotherapy_start-int ... 
    Prompt (7315 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6515 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 22.22s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [336/486] recurrencetype-int ... 
    Prompt (14447 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 13647 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.91, 38.48s)
  Expected:  Type of recurrence/progression: metastatic recurrence (lung)
  Predicted: Type of recurrence/progression: metastatic recurrence - lung (pulmonary)
    [337/486] radiotherapy_end-int ... 
    Prompt (16019 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data cam
        ... [truncated 15219 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.63s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Radiotherapy: Adjuvant radiotherapy in total of 50 Gy in 25 fractions ended on 04/10/2019 because of treatment completed
    [338/486] tumorbiopsytype-int ... 
    Prompt (12180 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopico: frammenti di neopl
        ... [truncated 11380 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.61, 33.84s)
  Expected:  Baseline/primary tumor CT-guided core biopsy has been performed on 15/09/2022 in lung (CT-guided core biopsy of dominant pulmonary nodule)
  Predicted: Baseline/primary tumor core biopsy has been performed on 15/09/2022 in the lung.
    [339/486] necrosis_in_surgical-int ... 
    Prompt (4307 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3507 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.70s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed.
    [340/486] tumordiameter-int ... 
    Prompt (11941 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopico: frammenti di neoplasia a predominanza fusata, ce
        ... [truncated 11141 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.91, 33.71s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on unknown) | Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022).
    [341/486] patient-status-int ... 
    Prompt (13336 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 12536 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.46, 37.45s)
  Expected:  Unknown patient status at last follow-up
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung)
    [342/486] response-to-int ... 
    Prompt (16165 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 15365 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.85s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: partial response
    [343/486] stage_at_diagnosis-int ... 
    Prompt (11987 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022
        ... [truncated 11187 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.37, 32.16s)
  Expected:  Stage at diagnosis (current status): distant metastases (lung)
  Predicted: Stage at diagnosis: metastatic (regional nodal metastases).
    [344/486] chemotherapy_end-int ... 
    Prompt (15385 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferior
        ... [truncated 14585 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.44s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [345/486] occurrence_cancer-int ... 
    Prompt (17989 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 17189 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.24s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : myxoid liposarcoma.
    [346/486] surgical-specimen-grading-int ... 
    Prompt (13309 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 12509 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.87s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [347/486] ageatdiagnosis-int ... 
    Prompt (11804 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopic
        ... [truncated 11004 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 29.61s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis 48 years.
    [348/486] recur_or_prog-int ... 
    Prompt (13671 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 12871 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 37.83s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 01/09/2022
    [349/486] histological-tipo-int ... 
    Prompt (11987 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame m
        ... [truncated 11187 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 33.03s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3)
  Predicted: Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
    [350/486] surgical-mitotic-count-int ... 
    Prompt (6282 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5482 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.57s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [351/486] tumorsite-int ... 
    Prompt (14227 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 13427 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.63, 38.04s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment) | Tumor site (Intra thoracic): lung (pulmonary parenchymal nodular lesion)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2022-09-15_pathology_13 completed in 891.41s (avg 33.015s per prompt)

  Processing note: P001_2022-09-25_oncology_14 (oncology)
    [352/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3316 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "25/09/2022 — Visita oncologica / avvio terapia sistemica palliativa.
    
    Paziente femmina, portatrice di liposarcoma mixoide di coscia sinistra (sede: compartimento anteriore), diagnostica e trattata inizialmente nel 2018. In anamnesi: resezio
        ... [truncated 2516 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.50s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): 2.
    [353/486] surgerymargins-int ... 
    Prompt (15051 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progressione di leiomiosarcoma retroperitoneale con metastasi polmonari.
    
    Breve storia: paziente maschio, diagnosi istologica di leiomiosarcoma FNCLCC grado 3 del compartimento retroperitoneale destro; resezion
        ... [truncated 14251 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 41.13s)
  Expected:  Margins after surgery: R0 (macroscopically negative), closest margin 1 mm
  Predicted: Margins after surgery: R0
    [354/486] tumordepth-int ... 
    Prompt (16235 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglianza, il 10/01/2022 TC torace ha evidenziato multiple nodularità polmonari (
        ... [truncated 15435 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 43.72s)
  Expected:  Tumor depth: Deep
  Predicted: Tumor depth: deep.
    [355/486] biopsymitoticcount-int ... 
    Prompt (14342 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multipl
        ... [truncated 13542 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.98s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [356/486] gender-int ... 
    Prompt (14980 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progressione di leiomiosarcoma retroperitoneale con metastasi polmonari.
    
    Breve storia: paziente maschio, diagnosi istologica di lei
        ... [truncated 14180 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 37.78s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender: Female
    [357/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3480 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "25/09/2022 — Visita oncologica / avvio terapia sistemica palliativa.
    
    Pazien
        ... [truncated 2680 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 9.64s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically complete.
    [358/486] necrosis_in_biopsy-int ... 
    Prompt (7841 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 7041 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 20.28s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [359/486] previous_cancer_treatment-int ... 
    Prompt (15520 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14720 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.20s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: Surgery, radiation, chemotherapy.
    [360/486] chemotherapy_start-int ... 
    Prompt (17993 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progre
        ... [truncated 17193 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.63, 49.58s)
  Expected:  Intravenous anthracycline chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin 75 mg/m2 q3w regimen (planned 6 cycles)
  Predicted: Systemic chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin regimen
    [361/486] surgerytype-fs30-int ... 
    Prompt (16599 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15799 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.15s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was not performed.
    [362/486] radiotherapy_start-int ... 
    Prompt (8237 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7437 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 23.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: External beam radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [363/486] recurrencetype-int ... 
    Prompt (16528 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15728 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.29, 46.06s)
  Expected:  Type of recurrence/progression: Distant metastases - lungs
  Predicted: Type of recurrence/progression: metastatic recurrence - lungs (multiple pulmonary nodules; dominant lesion 15 mm; detected on CT September 2022; biops...
    [364/486] radiotherapy_end-int ... 
    Prompt (17403 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 10/12/2022 — Visita oncologica di 
        ... [truncated 16603 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 51.63s)
  Expected:  External beam radiotherapy in total of 50 Gy in 25 fractions ended on 23/07/2018 because of planned completion (adjuvant to surgical bed)
  Predicted: Adjuvant radiotherapy in total of 50 Gy in 25 fractions ended on 23/07/2018 because of treatment completed
    [365/486] tumorbiopsytype-int ... 
    Prompt (17396 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopico: frammenti di neopl
        ... [truncated 16596 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.40s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor biopsy has been performed on 15/09/2022 in unknown place.
    [366/486] necrosis_in_surgical-int ... 
    Prompt (5229 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4429 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.86s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [367/486] tumordiameter-int ... 
    Prompt (15282 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglia
        ... [truncated 14482 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.54, 44.00s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 03/2018)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022).
    [368/486] patient-status-int ... 
    Prompt (16565 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 15765 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 44.56s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
    [369/486] response-to-int ... 
    Prompt (17579 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16779 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.22s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Response to systemic chemotherapy was: partial response
    [370/486] stage_at_diagnosis-int ... 
    Prompt (15202 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progressione di leiomiosarcoma retroperitoneale con metastasi polmonari.
    
    Breve storia: pazient
        ... [truncated 14402 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 38.97s)
  Expected:  Stage at diagnosis (clinical): localized
  Predicted: Stage at diagnosis: localized
    [371/486] chemotherapy_end-int ... 
    Prompt (16467 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per p
        ... [truncated 15667 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 58.74s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant chemotherapy ended on 23/07/2018 after unknown number of cycles because of completion of planned treatment (regimen: 50 Gy in 25 fractions, i...
    [372/486] occurrence_cancer-int ... 
    Prompt (18911 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 18111 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 52.96s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : myxoid liposarcoma.
    [373/486] surgical-specimen-grading-int ... 
    Prompt (15467 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14667 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.62s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [374/486] ageatdiagnosis-int ... 
    Prompt (14958 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progressione di leiomiosarcoma retroperitoneale con metastasi polmonari.
    
    Breve storia: paziente maschio, diagnosi istologica di leiomiosarcoma FNCLCC grado 3 del compartimen
        ... [truncated 14158 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 39.83s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis 62 years.
    [375/486] recur_or_prog-int ... 
    Prompt (15212 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 14412 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a progression on 01/09/2022
    [376/486] histological-tipo-int ... 
    Prompt (15089 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita oncologica del 01/05/2023.  
    Motivo: inizio terapia sistemica di seconda linea palliativa con pazopanib per progressione di leiomiosarcoma retroperitoneale con metastasi polmonari.
    
    Breve storia: paziente maschio, diagnosi istologica di leiomiosarcoma FNCLCC grado 3 del c
        ... [truncated 14289 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 42.11s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3)
  Predicted: Histological type: Myxoid Liposarcoma (ICD-O-3: 8852/3)
    [377/486] surgical-mitotic-count-int ... 
    Prompt (7204 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 6404 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.40s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [378/486] tumorsite-int ... 
    Prompt (17347 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 16547 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.36, 50.17s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Intra abdominal): left thigh.
  Note P001_2022-09-25_oncology_14 completed in 1036.98s (avg 38.407s per prompt)

  Processing note: P001_2022-12-18_oncology_15 (oncology)
    [379/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3353 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 18/12/2022
    
    Visita oncologica di controllo dopo completamento prima linea chemioterapica.
    
    Motivo della visita: rivalutazione radiologica e clinica dopo 6 cicli di doxorubicina per metastasi polmonari da liposarcoma mixoide della cosc
        ... [truncated 2553 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.04s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): G2.
    [380/486] surgerymargins-int ... 
    Prompt (16138 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A segui
        ... [truncated 15338 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.71, 41.89s)
  Expected:  Margins after surgery: R0, closest 1 mm
  Predicted: Margins after surgery: R0
    [381/486] tumordepth-int ... 
    Prompt (16301 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglianza, il 10/01/2022 TC torace ha evidenziato multiple nodularità polmonari (
        ... [truncated 15501 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.62s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor depth: deep.
    [382/486] biopsymitoticcount-int ... 
    Prompt (15442 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multipl
        ... [truncated 14642 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.74s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: unknown
    [383/486] gender-int ... 
    Prompt (16062 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemiot
        ... [truncated 15262 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.71s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender Female
    [384/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3517 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 18/12/2022
    
    Visita oncologica di controllo dopo completamento prima li
        ... [truncated 2717 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 9.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [complete].
    [385/486] necrosis_in_biopsy-int ... 
    Prompt (7878 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 7078 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 20.46s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [386/486] previous_cancer_treatment-int ... 
    Prompt (15557 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14757 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.14s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: surgery, adjuvant radiotherapy, chemotherapy.
    [387/486] chemotherapy_start-int ... 
    Prompt (17422 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC g
        ... [truncated 16622 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 48.17s)
  Expected:  Systemic chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin regimen
  Predicted: Systemic chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin regimen
    [388/486] surgerytype-fs30-int ... 
    Prompt (16636 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 15836 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.88, 47.74s)
  Expected:  Surgery was performed on 15/05/2018 and was macroscopically R0 (complete resection)
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [389/486] radiotherapy_start-int ... 
    Prompt (8274 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7474 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 32.28s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: External beam radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [390/486] recurrencetype-int ... 
    Prompt (17067 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 16267 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 45.72s)
  Expected:  Type of recurrence/progression: metastatic (lungs)
  Predicted: Type of recurrence/progression: metastatic - lungs
    [391/486] radiotherapy_end-int ... 
    Prompt (18085 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 20/09/2022
    
    Visita oncologic
        ... [truncated 17285 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.86s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Adjuvant external beam radiotherapy in total of 50Gy in 25 fractions ended on 23/07/2018 because completed as planned
    [392/486] tumorbiopsytype-int ... 
    Prompt (16986 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/02/2022
    
    Motivo della visita: avvio chemioterapia sistemica palliativa per metastasi polmonari da leiiomiosarcoma retroperitoneale.
    
    Breve anamnesi: paziente con diagnosi istologica di leiomiosarcoma retroperitoneale FNCLCC G3 (biopsia 02/07/2020) di sede perirenale destra, resezione en bloc eseguita
        ... [truncated 16186 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 49.37s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor biopsy has been performed on 25/06/2020 in unknown place
    [393/486] necrosis_in_surgical-int ... 
    Prompt (5266 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4466 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.29s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [394/486] tumordiameter-int ... 
    Prompt (16206 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglia
        ... [truncated 15406 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.60, 47.90s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on 15/05/2018)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022).
    [395/486] patient-status-int ... 
    Prompt (17646 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 16846 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.87, 47.65s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung)
    [396/486] response-to-int ... 
    Prompt (17781 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16981 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.91, 48.61s)
  Expected:  Response to systemic chemotherapy was: Partial response (RECIST)
  Predicted: Response to systemic chemotherapy was: partial response
    [397/486] stage_at_diagnosis-int ... 
    Prompt (15068 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine
        ... [truncated 14268 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.21s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Stage at diagnosis: localized.
    [398/486] chemotherapy_end-int ... 
    Prompt (16618 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNC
        ... [truncated 15818 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.28, 48.59s)
  Expected:  Systemic chemotherapy ended on 18/12/2022 after 6 cycles because of planned completion
  Predicted: Adjuvant chemotherapy ended on 01/11/2020 after 6 cycles because of treatment completed; regimen: doxorubicin + ifosfamide; intent: adjuvant
    [399/486] occurrence_cancer-int ... 
    Prompt (18948 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 18148 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.47s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : myxoid liposarcoma.
    [400/486] surgical-specimen-grading-int ... 
    Prompt (16392 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 15592 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 47.38s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [401/486] ageatdiagnosis-int ... 
    Prompt (16038 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfami
        ... [truncated 15238 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 41.79s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis 38 years.
    [402/486] recur_or_prog-int ... 
    Prompt (16394 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 15594 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.00s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: There was a recurrence on 01/09/2022
    [403/486] histological-tipo-int ... 
    Prompt (16163 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicin
        ... [truncated 15363 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.85, 45.78s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3 8852/3)
  Predicted: Histological type: Myxoid liposarcoma (8852/3)
    [404/486] surgical-mitotic-count-int ... 
    Prompt (7241 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 6441 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.23s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgical specimen mitotic count: unknown
    [405/486] tumorsite-int ... 
    Prompt (18439 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 17639 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 50.18s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2022-12-18_oncology_15 completed in 1072.23s (avg 39.712s per prompt)

  Processing note: P001_2023-08-10_radiology_16 (radiology)
    [406/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (2206 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto TC torace — 10/08/2023
    
    Esame: TC torace eseguita il 10/08/2023. Confronto con TC torace del 01/09/2022 e con TC del 18/12/2022.
    
    Tecnica: studio volumetrico del torace.
    
    Risultati: multipli noduli polmonari a sede bilaterale, distr
        ... [truncated 1406 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 5.65s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): Unknown biopsy grading.
    [407/486] surgerymargins-int ... 
    Prompt (13776 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguito in data 10/01/2022.
    
    Tecnica: TC torace con acquisizione spirale, ricostruzione parenchimale.
    
    Confronto: TC torace di controllo eseguita il 15/08/2021 (documentazione disponibile), nella quale non erano evidenti lesioni focali polmonari significative.
    
    Risultati: multiple nodulazioni polmonari a 
        ... [truncated 12976 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.63, 38.73s)
  Expected:  Margins after surgery: R0 (closest margin 1 mm)
  Predicted: Margins after surgery: R0
    [408/486] tumordepth-int ... 
    Prompt (12275 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 04/06/2019
    
    Esame: Biopsia percutanea core-needle ecoguidata della formazione del volto volare dell'avambraccio sinistro.
    
    Motivazione: massa palpabile al compartimento volare prossimale al polso, presente da circa 3 mesi; riferimento diagnostico per caratterizzazione istologica in previsione di gestione multidisciplinare. In precedenza valutata in ambulatorio il 10/05/2019; ecografia del 12/05/2019 e RMN 
        ... [truncated 11475 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 32.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor depth: Deep.
    [409/486] biopsymitoticcount-int ... 
    Prompt (13327 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 04/06/2019
    
    Esame: Biopsia percutanea core-needle ecoguidata della formazione del volto volare dell'avambraccio sinistro.
    
    Motivazione: massa palpabile al compartimento volare prossimale al polso, presente da circa 3 mesi;
        ... [truncated 12527 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 35.93s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [410/486] gender-int ... 
    Prompt (12598 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguita in data 05/04/2023 (TC torace spirale con mezzo di contrasto endovenoso).
    
    Tecnica: acquisizione spirale in inspirio; somministrato mdc iodato EV. Confronto con precedenti indagini radiologiche disponibili, in particolar
        ... [truncated 11798 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 33.04s)
  Expected:  Patient's gender Female
  Predicted: Patient's gender: Female
    [411/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (2370 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Referto TC torace — 10/08/2023
    
    Esame: TC torace eseguita il 10/08/2023. Con
        ... [truncated 1570 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 7.87s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was [select result].
    [412/486] necrosis_in_biopsy-int ... 
    Prompt (6731 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 5931 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.38s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [413/486] previous_cancer_treatment-int ... 
    Prompt (14410 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 13610 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 38.39s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: chemotherapy, surgery.
    [414/486] chemotherapy_start-int ... 
    Prompt (17032 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/03/2023
    
    Visita oncologica di controllo dopo completamento terapia citotossica. Paziente femmina, diagnosticata 
        ... [truncated 16232 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 50.50s)
  Expected:  Systemic chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin regimen
  Predicted: Systemic chemotherapy with palliative intent started on 20/09/2022 and utilized doxorubicin + ifosfamide regimen
    [415/486] surgerytype-fs30-int ... 
    Prompt (15525 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 14725 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.76s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was not performed.
    [416/486] radiotherapy_start-int ... 
    Prompt (7127 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 6327 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 29.02s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [417/486] recurrencetype-int ... 
    Prompt (14655 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 13855 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.52, 42.91s)
  Expected:  Type of recurrence/progression: metastatic progression (lungs)
  Predicted: Type of recurrence/progression: metastatic - lungs (multiple bilateral pulmonary nodules, max 15 mm)
    [418/486] radiotherapy_end-int ... 
    Prompt (15866 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Esame: PET‑TC con 18F‑FDG
    Data: 25
        ... [truncated 15066 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 48.99s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: pre-operative radiotherapy in total of 50Gy in 25 fractions ended on 04/10/2019 because of completed as planned.
    [419/486] tumorbiopsytype-int ... 
    Prompt (14452 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Visita di follow‑up del 15/08/2022.
    
    Paziente F, diagnosticata a 22 anni con synovial sarcoma monophasico (ICD‑O‑3 9040/3) del compartimento volare dell’avambraccio sinistro; FNCLCC grado 2. Diagnosi istologica confermata con rearrangiamento SS18; biopsia iniziale 12/06/2019. Trattamento locoregionale eseguit
        ... [truncated 13652 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.39, 41.59s)
  Expected:  Baseline/primary tumor core biopsy has been performed on 15/09/2022 in lung (pulmonary nodule)
  Predicted: Baseline/primary tumor CT-guided biopsy has been performed on 10/08/2023 in unknown place.
    [420/486] necrosis_in_surgical-int ... 
    Prompt (4119 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 3319 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 10.16s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [421/486] tumordiameter-int ... 
    Prompt (12709 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguita in data 05/04/2023 (TC torace spirale con mezzo di contrasto endovenoso).
    
    Tecnica: acquisizione spirale in inspirio; somministrato mdc iodato EV. Confronto con precedenti indagini radiologiche disponibili, in particolare TC torace del 10/01/2022 e controllo radiologico del 15/06/2022 che documentava risposta pa
        ... [truncated 11909 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.58, 34.89s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on unknown)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 01/09/2022).
    [422/486] patient-status-int ... 
    Prompt (14546 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 13746 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.82s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
    [423/486] response-to-int ... 
    Prompt (17154 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16354 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.72, 46.66s)
  Expected:  Response to systemic chemotherapy was: Partial response
  Predicted: Response to systemic chemotherapy was: progression
    [424/486] stage_at_diagnosis-int ... 
    Prompt (11322 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguita in data 05/04/2023 (TC torace spirale con mezzo di contrasto endovenoso).
    
    Tecnica: acquisizione spirale in inspirio; somministrato mdc iodato EV. Confronto con precedenti indagini ra
        ... [truncated 10522 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.32, 28.16s)
  Expected:  Stage at diagnosis (type): localized
  Predicted: Stage at diagnosis: loco-regional (In transit metastasis).
    [425/486] chemotherapy_end-int ... 
    Prompt (16582 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/03/2023
    
    Visita oncologica di controllo dopo completamento terapia citotossica. Paziente femmina, diagnosti
        ... [truncated 15782 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.48, 46.71s)
  Expected:  Systemic chemotherapy ended on 18/12/2022 after 6 cycles because of completion of planned therapy
  Predicted: Systemic chemotherapy ended on unknown after unknown cycles because of progression of disease
    [426/486] occurrence_cancer-int ... 
    Prompt (16595 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 15795 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.25s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : non-small cell lung cancer.
    [427/486] surgical-specimen-grading-int ... 
    Prompt (13347 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 12547 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 34.67s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): 2
    [428/486] ageatdiagnosis-int ... 
    Prompt (12570 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguita in data 05/04/2023 (TC torace spirale con mezzo di contrasto endovenoso).
    
    Tecnica: acquisizione spirale in inspirio; somministrato mdc iodato EV. Confronto con precedenti indagini radiologiche disponibili, in particolare TC torace del 10/01/2022 e controllo rad
        ... [truncated 11770 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 33.36s)
  Expected:  Age at diagnosis 34 years
  Predicted: Age at diagnosis 22 years.
    [429/486] recur_or_prog-int ... 
    Prompt (13908 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 13108 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 38.01s)
  Expected:  There was a progression on 10/08/2023
  Predicted: There was a progression on 10/08/2023
    [430/486] histological-tipo-int ... 
    Prompt (12744 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto TC torace eseguita in data 05/04/2023 (TC torace spirale con mezzo di contrasto endovenoso).
    
    Tecnica: acquisizione spirale in inspirio; somministrato mdc iodato EV. Confronto con precedenti indagini radiologiche disponibili, in particolare TC torace del 10/01/2022 e con
        ... [truncated 11944 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.23, 34.72s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Mucoid carcinoma NOS (8980/3)
    [431/486] surgical-mitotic-count-int ... 
    Prompt (6094 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 5294 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 15.64s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count.
    [432/486] tumorsite-int ... 
    Prompt (14993 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 14193 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.51, 43.24s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): not specified.
  Note P001_2023-08-10_radiology_16 completed in 918.45s (avg 34.016s per prompt)

  Processing note: P001_2023-08-25_oncology_17 (oncology)
    [433/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3416 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 25/08/2023
    
    Motivo della visita: avvio seconda linea di terapia sistemica palliativa per progressione di malattia polmonare dopo trattamento con antracicline.
    
    Breve anamnesi e contesto: paziente femmina, diagnosticata nel 2018 con my
        ... [truncated 2616 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.04s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): 2.
    [434/486] surgerymargins-int ... 
    Prompt (15934 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A segui
        ... [truncated 15134 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.41, 41.50s)
  Expected:  Margins after surgery: R0 (closest margin 1 mm)
  Predicted: Margins after surgery: R1
    [435/486] tumordepth-int ... 
    Prompt (16364 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglianza, il 10/01/2022 TC torace ha evidenziato multiple nodularità polmonari (
        ... [truncated 15564 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 46.02s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor depth: deep.
    [436/486] biopsymitoticcount-int ... 
    Prompt (15606 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multipl
        ... [truncated 14806 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.44s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: unknown
    [437/486] gender-int ... 
    Prompt (15859 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemiot
        ... [truncated 15059 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 40.50s)
  Expected:  Patient's gender: Female
  Predicted: Patient's gender Female
    [438/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3580 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Data: 25/08/2023
    
    Motivo della visita: avvio seconda linea di terapia sistem
        ... [truncated 2780 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 11.71s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [put date] and was macroscopically [select result].
    [439/486] necrosis_in_biopsy-int ... 
    Prompt (7941 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 7141 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.58s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [440/486] previous_cancer_treatment-int ... 
    Prompt (15620 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14820 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 40.45s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: surgery, radiation, chemotherapy.
    [441/486] chemotherapy_start-int ... 
    Prompt (17485 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC g
        ... [truncated 16685 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.89, 50.57s)
  Expected:  systemic chemotherapy with palliative intent started on 25/09/2022 and utilized doxorubicin regimen | systemic chemotherapy with palliative intent sta...
  Predicted: Systemic chemotherapy with palliative intent started on 25/08/2023 and utilized trabectedin regimen
    [442/486] surgerytype-fs30-int ... 
    Prompt (18172 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 17372 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 50.06s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was not performed
    [443/486] radiotherapy_start-int ... 
    Prompt (8337 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7537 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 26.54s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: External beam radiotherapy (conventional) with [select intention] intention started [please select where] on [put date].
    [444/486] recurrencetype-int ... 
    Prompt (16143 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15343 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.64, 45.01s)
  Expected:  Type of recurrence/progression: Progression - pulmonary metastases
  Predicted: Type of recurrence/progression: metastatic progression - lungs
    [445/486] radiotherapy_end-int ... 
    Prompt (17156 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 20/09/2022
    
    Visita oncologic
        ... [truncated 16356 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.34s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Radiotherapy in total of 50 Gy in 25 fractions ended on 04/10/2019 because of planned completion
    [446/486] tumorbiopsytype-int ... 
    Prompt (17225 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 01/02/2022
    
    Motivo della visita: avvio chemioterapia sistemica palliativa per metastasi polmonari da leiiomiosarcoma retroperitoneale.
    
    Breve anamnesi: paziente con diagnosi istologica di leiomiosarcoma retroperitoneale FNCLCC G3 (biopsia 02/07/2020) di sede perirenale destra, resezione en bloc eseguita
        ... [truncated 16425 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 47.95s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor biopsy has been performed on 12/06/2019 in unspecified place
    [447/486] necrosis_in_surgical-int ... 
    Prompt (5329 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4529 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 12.55s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): none.
    [448/486] tumordiameter-int ... 
    Prompt (15213 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglia
        ... [truncated 14413 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.08s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor longest diameter: unknown.
    [449/486] patient-status-int ... 
    Prompt (17443 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 16643 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 51.47s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
    [450/486] response-to-int ... 
    Prompt (17844 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 17044 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.60, 46.18s)
  Expected:  Response to systemic chemotherapy (first-line doxorubicin) was: Partial response (PR) (evaluated 18/12/2022)
  Predicted: Response to systemic chemotherapy was: partial response
    [451/486] stage_at_diagnosis-int ... 
    Prompt (15131 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine
        ... [truncated 14331 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 39.74s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Stage at diagnosis: metastatic (regional nodal metastases)
    [452/486] chemotherapy_end-int ... 
    Prompt (16681 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNC
        ... [truncated 15881 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.40, 50.09s)
  Expected:  systemic chemotherapy ended on 18/12/2022 after 6 cycles because of completion of planned cycles
  Predicted: pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    [453/486] occurrence_cancer-int ... 
    Prompt (19011 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 18211 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 52.07s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer myxoid liposarcoma.
    [454/486] surgical-specimen-grading-int ... 
    Prompt (15405 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14605 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 40.62s)
  Expected:  Surgical specimen grading (FNCLCC): Grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [455/486] ageatdiagnosis-int ... 
    Prompt (15835 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfami
        ... [truncated 15035 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 41.66s)
  Expected:  Age at diagnosis: 34 years
  Predicted: Age at diagnosis 38 years.
    [456/486] recur_or_prog-int ... 
    Prompt (15434 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 14634 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.55, 41.78s)
  Expected:  There was a progression on 10/08/2023 (increase in number and size of pulmonary lesions)
  Predicted: There was a progression on 10/08/2023
    [457/486] histological-tipo-int ... 
    Prompt (15968 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicin
        ... [truncated 15168 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.87, 46.03s)
  Expected:  Histological type: Myxoid liposarcoma (ICD-O-3: 8852/3)
  Predicted: Histological type: Myxoid liposarcoma NOS (ICD-O-3: 8852/3)
    [458/486] surgical-mitotic-count-int ... 
    Prompt (7304 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto operatorio — Data intervento: 22/07/202
        ... [truncated 6504 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 16.92s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count
    [459/486] tumorsite-int ... 
    Prompt (18236 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 17436 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.47, 51.39s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left forearm, volar aspect near wrist
  Note P001_2023-08-25_oncology_17 completed in 1048.30s (avg 38.826s per prompt)

  Processing note: P001_2024-03-01_follow-up_18 (follow-up)
    [460/486] biopsygrading-int ... [WARN] No index found for 'biopsygrading-int', returning empty list

    Prompt (3426 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant.
    Your task is to read a given medical note and identify the biopsy grading (FNCLCC) mentioned in the note.
    
    Output strictly in the following format:
    Biopsy grading (FNCLCC): [value].
    
    The values can be from the following options: 1 or  2 or 3 or Other classification system high or Other classification system low or Biopsy grading not applicable or Unknown biopsy grading.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Visita di follow‑up del 01/03/2024.
    
    Paziente femmina, diagnosi di liposarcoma mixoide della coscia sinistra (ICD‑O‑3 8852/3, FNCLCC grado 2) all’età di 34 anni; resezione oncologica eseguita il 15/05/2018 con margini microscopicamente nega
        ... [truncated 2626 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 8.65s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy grading (FNCLCC): 2.
    [461/486] surgerymargins-int ... 
    Prompt (14977 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to analyze a medical note and classify the surgical resection margin status.
    Always output the result in the following format:
    Margins after surgery: [R0 or R1 or R2]
    
    R0 (radical, tumor-free margins):
    
    Important: A “small but clear” margin = still R0.
    
    Output only the classification in the required format. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A segui
        ... [truncated 14177 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.59, 38.78s)
  Expected:  Margins after surgery: microscopically negative (R0), closest margin 1 mm
  Predicted: Margins after surgery: R0 (negative margins)
    [462/486] tumordepth-int ... 
    Prompt (16945 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology pathology and radiology reports.
    
    Task:
    From the given medical note, determine the tumor depth and output **only one** of the two values: `superficial` or `deep`.
    
    Output format (exact):
    Annotation: Tumor depth: [superficial|deep].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglianza, il 10/01/2022 TC torace ha evidenziato multiple nodularità polmonari (
        ... [truncated 16145 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.73s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Tumor depth: deep.
    [463/486] biopsymitoticcount-int ... 
    Prompt (15515 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. 
    Identify the biopsy mitotic count from the provided medical note and output it exactly in the following format:
    
    Format:
    Biopsy mitotic count: [value]HPF/mm2.
    (If not explicitly stated or unclear, output: “Unknown biopsy mitotic count.”)
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multipl
        ... [truncated 14715 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 41.32s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Biopsy mitotic count: Unknown
    [464/486] gender-int ... 
    Prompt (14916 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. 
    Identify the Patient's gender from the provided medical note. Take note of the singular, third-person pronouns also. Output your response exactly in the following format:
    
    Format:
    Patient's gender [male/female/unknown].
    
    Do not include any explanations, reasoning, extra text, the medical note — only output the annotation value in the specified format above.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemiot
        ... [truncated 14116 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 38.76s)
  Expected:  Patient's gender [pick gender]: Female
  Predicted: Patient's gender Female
    [465/486] reexcision-int ... [WARN] No index found for 'reexcision-int', returning empty list

    Prompt (3590 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncological surgery documentation.
    Your task: From the given medical note, extract re-excision (radicalization) information, including:
    1. The date when the re-excision was performed (if mentioned).
    2. Whether it was macroscopically complete, incomplete, or if such information is unknown.
    
    Formats:
    Re-excision was performed on [provide date] and was macroscopically [complete/incomplete]. 
    
    Notes:
    If the date is missing, output [put date] in the format.
    If the result is missing, output [select result] in the format.
    
    ---
    
    Here are few examples for your understanding:
    
    
    ---
    
    Now process the following note in the same way:
    
    ### Input:
    - Medical Note: "Visita di follow‑up del 01/03/2024.
    
    Paziente femmina, diagnosi di liposarco
        ... [truncated 2790 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.61s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Re-excision was performed on [15/05/2018] and was macroscopically [select result].
    [466/486] necrosis_in_biopsy-int ... 
    Prompt (7951 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in biopsy specimen (type of): [percentage value] of tumor.
    Necrosis in biopsy specimen (type of): absent.
    Necrosis in biopsy specimen (type of): none.
    Necrosis in biopsy specimen (type of): present.
    Necrosis in biopsy specimen (type of): unknown.
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico
    Data campione: 05/09/2022
    
    Dati clinici: paziente femmina, pregresso sinovial sa
        ... [truncated 7151 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 19.22s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in biopsy specimen (type of): absent.
    [467/486] previous_cancer_treatment-int ... 
    Prompt (15630 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant. From the given medical note, identify and classify whether the patient has received any previous cancer treatment.
    If treatments are present, list them exactly as mentioned (e.g., surgery, chemotherapy, radiation, other) following the provided output patterns.
    
    Always present the output in the following structured format and in English:
    Annotation: Previous cancer treatment: [select one option].
    
    Allowed output options (strictly select one):
    
    Previous cancer treatment: radiation, chemotherapy.
    Previous cancer treatment: radiation, other.
    Previous cancer treatment: radiation, surgery, other.
    Previous cancer treatment: surgery, chemotherapy, radiation, other.
    Previous cancer treatment: surgery, radiation, other.
    Previous cancer treat
        ... [truncated 14830 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 42.05s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Previous cancer treatment: surgery, chemotherapy, radiation, other.
    [468/486] chemotherapy_start-int ... 
    Prompt (17859 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    post-operative chemotherapy with [select intent] started on [provide date] and utilized [select regimen] regimen.
    
    Notes:
    If the date is missing, output [provide date].
    If the regimen is missing, output [select regimen].
    If the intent is missing, output [select intent].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC g
        ... [truncated 17059 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.69, 48.82s)
  Expected:  systemic chemotherapy with palliative intent started on 25/08/2023 and utilized trabectedin regimen
  Predicted: Systemic chemotherapy with palliative intent started on [provide date] and utilized trabectedin regimen
    [469/486] surgerytype-fs30-int ... 
    Prompt (18182 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Given a clinical note, extract structured surgery-related information.
    
    1. If a surgery is described, always return:
       - Whether it was **Primary surgery** or simply **Surgery**.
       - The **date of surgery** in DD/MM/YYYY format.
       - Whether the surgery was **macroscopically complete**, **macroscopically incomplete**, or **[select result]** 
         (if margins or completeness are not explicitly mentioned).
    
    2. If no surgery information exists, return nothing.
    
    Your answer must follow exactly one of these formats:
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically complete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscopically incomplete."
    - "Primary surgery was performed on DD/MM/YYYY and was macroscop
        ... [truncated 17382 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 53.04s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Surgery was performed on 15/05/2018 and was macroscopically complete.
    [470/486] radiotherapy_start-int ... 
    Prompt (8347 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    post-operative radiotherapy (conventional) with [select intention] intention started [please select where] on [put date]. 
    
    Notes:
    If the date is missing, output [put date].
    If the place is missing, output [please select where].
    If the intention is missing, output [select intention].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 04/10/2019 — Visita oncologica di fine trattamento radiante.
    
    Paziente: femmina, 22 anni all’epoca
        ... [truncated 7547 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 28.68s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: External beam radiotherapy is not mentioned in the provided medical note. However, the patient has a history of adjuvant radiotherapy completed on 23/...
    [471/486] recurrencetype-int ... 
    Prompt (15908 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to extract information regarding the type of recurrence or progression of the disease. Use only the templates listed below and strictly adhere to the structure. If multiple metastatic sites are mentioned, list them in the template exactly as they appear. If no relevant information is present, return "None".
    
    Output strictly in the following format:
    Annotation: Type of recurrence/progression: [selected type] .
    
    Possible Output Templates:
    Type of recurrence/progression: local.
    Type of recurrence/progression: local [select site if metastatic].
    Type of recurrence/progression: metastatic.
    Type of recurrence/progression: metastatic bone, soft tissue.
    Type of recurrence/progression: metastatic bone.
    Type of recurrence/progres
        ... [truncated 15108 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 43.42s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Type of recurrence/progression: metastatic - lungs (pulmonary metastases)
    [472/486] radiotherapy_end-int ... 
    Prompt (17493 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract radiotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    post-operative radiotherapy in total of [put total dose]Gy in [put number of] fractions ended on [put date] because of [select reason].
    
    Notes:
    If the date is missing, output [put date].
    If the reason is missing, output [select reason].
    If the dose is missing, output [put total dose].
    If the number is missing, output [put number of].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Data: 15/09/2022
    
    Diagnosi princip
        ... [truncated 16693 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.67, 50.87s)
  Expected:  Radiotherapy in total of 50 Gy in unknown fractions ended on 23/07/2018 because of completion of planned treatment (adjuvant intent)
  Predicted: Radiotherapy in total of 50Gy in 25 fractions ended on 23/07/2018 because of treatment completed
    [473/486] tumorbiopsytype-int ... 
    Prompt (16280 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant.  
    Your task: From the given medical note, extract the biopsy type and the date (if present).  
    If the date is missing, output 'unknown'.  
    If the place is not mentioned, output 'in the hospital'.  
    Always present the output in the following structured format:  
    
    Annotation: Baseline/primary tumor [biopsy type] biopsy has been performed on [date] in [place].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico (20/01/2022)
    
    Materiale: ago-biopsia TC-guidata del nodulo polmonare destro (lobo inferiore), prelevata il 20/01/2022 su lesione di 15 mm apparsa alla TC di sorveglianza del 10/01/2022. Ricevuti multiple frammenti bioptici fissati in formalina.
    
    Esame microscopico: frammenti di neopl
        ... [truncated 15480 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 45.99s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Baseline/primary tumor biopsy has been performed on 15/05/2018 in unknown place
    [474/486] necrosis_in_surgical-int ... 
    Prompt (5339 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract necrosis information from the provided medical note and output it in a precise, templated format.
    
    Possible Output Formats (use only one):
    Necrosis in surgical specimen (type of): 10%. 
    Necrosis in surgical specimen (type of): absent. 
    Necrosis in surgical specimen (type of): coagulative necrosis. 
    Necrosis in surgical specimen (type of): coagulative. 
    Necrosis in surgical specimen (type of): none. 
    Necrosis in surgical specimen (type of): unknown. 
    
    Do not include explanations, reasoning, or any extra text — only one final annotation line exactly as specified below.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 4539 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 14.82s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Necrosis in surgical specimen (type of): no extensive coagulative (cohesive) necrosis observed
    [475/486] tumordiameter-int ... 
    Prompt (15031 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract the tumor longest diameter (in mm) and the date from the provided medical note and output it in a precise, templated format.
    
    Formats:
    Tumor longest diameter: [value]mm (at initial imaging on [date]).
    Tumor longest diameter unknown.
    
    If the date is missing, output [put date].  
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfamide completata il 01/11/2020. A seguito di sorveglia
        ... [truncated 14231 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.52, 42.63s)
  Expected:  Tumor longest diameter: 110 mm (at initial imaging on unknown)
  Predicted: Tumor longest diameter: 15 mm (at initial imaging on 15/09/2022).
    [476/486] patient-status-int ... 
    Prompt (16499 chars):
    ----------------------------------------------------------------------
    Task: From the given medical note, extract the status of the patient at last follow-up.
    
    Always output in exactly one of the following structured templates:
    
    1. Status of the patient at last follow-up: Alive, No Evidence of Disease (NED)
    2. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases ([please select sites])
    3. Status of the patient at last follow-up: Alive With Disease (AWD) - localised tumor
    4. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung).
    5. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. other).
    6. Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lung. soft tissue. other).
    8. Status of the patient at last follow-up: Alive With Disease (AWD) - l
        ... [truncated 15699 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 46.48s)
  Expected:  Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
  Predicted: Status of the patient at last follow-up: Alive With Disease (AWD) - metastases (lungs)
    [477/486] response-to-int ... 
    Prompt (17680 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, identify and extract the **response to therapeutic treatment** (such as chemotherapy or radiotherapy) when no surgical procedure is performed.  
    
    Your goal is to:
    1. Detect the type of therapy mentioned (e.g., therapeutic (without surgery), therapeutic (radiotherapy without surgery), pre-operative, post-operative).
    2. Determine the disease response described (e.g., complete response, partial response, stable disease, progression).
    3. If the response type or therapy type is missing, leave it as “[select type]” or “[select response]”.
    4. Only output one concise, structured annotation per note.
    
    Always format your output strictly as one of the following:
    
    1. Response to [sele
        ... [truncated 16880 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.73, 50.40s)
  Expected:  Response to systemic chemotherapy (doxorubicin) was: partial response (documented Dec 2022)
  Predicted: Response to systemic chemotherapy was: partial response
    [478/486] stage_at_diagnosis-int ... 
    Prompt (15175 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from medical notes. Identify the stage at diagnosis from the provided medical note. 
    The response must be any one of the following answers: 
    
    Possible Answers: 
    Stage at diagnosis: localized. 
    Stage at diagnosis: loco-regional (In transit metastasis). 
    Stage at diagnosis: metastatic (regional nodal metastases). 
    Unknown stage at diagnosis. 
    
    Do not include any explanations, reasoning, extra text, the medical note.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine
        ... [truncated 14375 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.34, 43.14s)
  Expected:  Stage at diagnosis (type): localized
  Predicted: Stage at diagnosis: metastatic (regional nodal metastases).
    [479/486] chemotherapy_end-int ... 
    Prompt (16597 chars):
    ----------------------------------------------------------------------
    Task: You are an expert medical annotator specializing in oncology pathology. Your task is to extract extract chemotherapy details from the provided medical note and output it in a precise, templated format.
    
    Formats:
    pre-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    post-operative chemotherapy ended on [provide date] after [provide number] of cycles because of [select reason]
    
    Notes:
    If the date is missing, output [provide date].
    If the reason is missing, output [select reason].
    If the number of cycles is missing, output [provide number].
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNC
        ... [truncated 15797 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.57, 46.37s)
  Expected:  systemic chemotherapy ended on 18/12/2022 after 6 cycles because of completion of planned treatment
  Predicted: - Adjuvant systemic chemotherapy ended on 23/07/2018 after 6 cycles because of planned completion
    [480/486] occurrence_cancer-int ... 
    Prompt (19021 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    
    From the given medical note, identify if there is any mention or evidence of other (non-index) cancers occurring in the patient — either in the past or concurrently.
    Extract the exact description if available (e.g., “prostate cancer”, “breast cancer”, “gastric adenocarcinoma”).
    If such information is missing, ambiguous, or not mentioned, indicate that explicitly.
    
    Always present the output in the following structured format and in English:
    
    Format:
    Annotation: Occurrence of other cancer [type]: [description].
    
    Allowed output options (strictly select one):
    
    Occurrence of other cancer unknown at initial excision.
    Occurrence of other cancer prostate cancer.
    Occurrence of other cancer sarcoma.
    Occurrence of other cancer breast cancer.
        ... [truncated 18221 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 56.61s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Occurrence of other cancer : liposarcoma mixoide.
    [481/486] surgical-specimen-grading-int ... 
    Prompt (15330 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncology.  
    Your task: From the given medical note, extract the **Surgical specimen grading (FNCLCC)** information.
    
    Guidelines:
    1. Identify explicit FNCLCC grades ('1' or '2' or '3' or 'Other classification system high' or 'Other classification system low').
    2. If no FNCLCC grade is mentioned but a grading level is implied using terms like “alto grado”, “basso grado”, or “intermedio”, interpret them as “Other classification system high/low/intermediate”.
    3. If both grading systems appear, prefer the FNCLCC value.
    4. If grading information is missing or uncertain, return nothing.
    5. The output must always follow this structured format:
    
    Annotation: Surgical specimen grading (FNCLCC): [grade or description].
    
    ---
    
    Here are f
        ... [truncated 14530 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 1.00, 41.68s)
  Expected:  Surgical specimen grading (FNCLCC): grade 2
  Predicted: Surgical specimen grading (FNCLCC): Grade 2
    [482/486] ageatdiagnosis-int ... 
    Prompt (14892 chars):
    ----------------------------------------------------------------------
    You are an expert medical annotator specializing in extracting structured clinical information from oncology notes. Identify the age at diagnosis of the patient from the given medical note and output it in the exact format below.
    
    Format:
    Age at diagnosis [age] years.
    
    The age must be formatted in the above format only starting with 'Age at diagnosis' and followed by the age in number followed by 'years'. Do not add explanations.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicina/ifosfami
        ... [truncated 14092 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.87, 41.46s)
  Expected:  Age at diagnosis [put age] years: 34 years
  Predicted: Age at diagnosis 34 years.
    [483/486] recur_or_prog-int ... 
    Prompt (15356 chars):
    ----------------------------------------------------------------------
    Task: You are a medical text annotation assistant. Your task is to determine if the note indicates progression, recurrence, no progression, or no recurrence of the disease. If progression or recurrence is mentioned, also extract the date if available.
    
    Follow these rules:
    
    If the note clearly states no progression or no recurrence, output:
    "There was no progression/recurrence."
    
    If the note mentions recurrence, output:
    "There was a recurrence on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    If the note mentions progression, output:
    "There was a progression on [date]." (If a date is mentioned, include it. If no date is mentioned, keep [put date]).
    
    Never add extra explanation. Only output the standardized annotation.
    
    ---
    
    Here are few examples fo
        ... [truncated 14556 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.28, 42.28s)
  Expected:  There was a progression on 10/08/2023
  Predicted: There was a recurrence on 15/09/2022
    [484/486] histological-tipo-int ... 
    Prompt (15063 chars):
    ----------------------------------------------------------------------
    Task: You are a clinical information extraction assistant.
    Your task is to carefully read the given medical note and identify the histological type of the tumor.
    
    Always select only one histological type from the controlled list provided below.
    
    If multiple histological types are mentioned, choose the most specific or final diagnosis.
    
    Output strictly in the following format:
    Annotation: Histological type: [selected type] ([ICD-O-3 code]).
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: 15 giugno 2022
    
    Visita oncologica di controllo per paziente con leiomiosarcoma retroperitoneale (ICD-O-3 8890/3, FNCLCC grado 3) trattato con resezione en bloc del masso perirenale destro il 22/07/2020 (margine microscopico positivo, R1) e chemioterapia adiuvante con doxorubicin
        ... [truncated 14263 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.62, 45.27s)
  Expected:  Histological type: Myxoid liposarcoma (8852/3)
  Predicted: Histological type: Liposarcoma, mixed type (ICD-O-3: 8852/3)
    [485/486] surgical-mitotic-count-int ... 
    Prompt (7314 chars):
    ----------------------------------------------------------------------
    You are a clinical information extraction assistant specialized in oncopathology.  
    Your task: From the given medical note, extract the **Surgical specimen mitotic count**.
    
    Guidelines:
    1. The Surgical specimen mitotic count can be easily found in the note where there is a mention of HPF succeeded by a value such as <1/10 HPF or >3/10 HPF or 10/10 HPF, etc. There may be a leading space between the numeric value and sign in some case. Return as it is.
    2. The output must strictly follow this format:
    
    Annotation: Surgical specimen mitotic count: [value].
    
    If the case corresponds to unknown or missing information, use:
    Annotation: Unknown surgical specimen mitotic count.
    
    ---
    
    Here are few examples for your understanding:
    Example:
    - Medical Note: Referto anatomopatologico del 22/07/2019
    
    Mater
        ... [truncated 6514 more characters] ...
    ----------------------------------------------------------------------
✗ Mismatch (sim: 0.00, 17.96s)
  Expected:  [NO EXPECTED ANNOTATION]
  Predicted: Unknown surgical specimen mitotic count.
    [486/486] tumorsite-int ... 
    Prompt (17302 chars):
    ----------------------------------------------------------------------
    Task:
    You are a clinical information extraction assistant.
    From the provided medical note, identify the tumor location category and the exact tumor site.
    
    Instructions:
    
    1. Read the note carefully and find the actual tumor site mentioned for the current case, not historical disease, treatment site, or previous surgery.
    
    2. Determine the broader anatomical category that best fits the tumor site (e.g., Upper and Lower limbs, Trunk wall, Intra abdominal, Genito urinary, Head and neck, Breast).
    
    3. Then specify the exact site (e.g., Upper leg, Groin, Thoracic wall, Paravertebral – thoracolumbar, skin of right breast, etc.).
    
    4. When both an organ and a surface or subregion are mentioned, prioritize the most specific surface or subregion (e.g., “skin of right breast” → not Breast).
    
    5. When ter
        ... [truncated 16502 more characters] ...
    ----------------------------------------------------------------------
✓ Match (sim: 0.82, 48.66s)
  Expected:  Tumor site (Upper and Lower limbs): Left thigh (anterior compartment)
  Predicted: Tumor site (Upper and Lower limbs): Left thigh.
  Note P001_2024-03-01_follow-up_18 completed in 1057.70s (avg 39.174s per prompt)

  [STEP 5 completed in 18094.30s]

[STEP 6] Generating evaluation reports...
  Detailed results saved to: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/llm_evaluation_detailed.csv
    Includes note text and annotations for easy comparison
  Summary saved to: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/llm_evaluation_summary.csv
  [Time: 0.07s]
  JSON report saved to: /home/zulaika/IDEA4RC-NLP-Ingestion/api/nlp/llm_evaluation_report.json

================================================================================
EVALUATION SUMMARY
================================================================================
Total evaluations: 486
Exact matches: 30 (6.2%)
High similarity (≥0.8): 109 (22.4%)
Overall matches: 109 (22.4%)
Average similarity: 0.336
Average value match rate: 11.2%

--------------------------------------------------------------------------------
TIMING SUMMARY
--------------------------------------------------------------------------------
Total execution time: 5:01:44 (18104.56 seconds)
Average time per evaluation: 37.231 seconds
Average time per note: 1005.24 seconds
Fastest note: 891.41s
Slowest note: 1142.98s
================================================================================
